self.webpackChunkRemoteClient([23],{266:function(t,e,i){"use strict";function n(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function r(t,e){return Math.sqrt(t*t+e*e)}function s(t){const e=r(t[0],t[1]);t[0]/=e,t[1]/=e}function o(t,e){return r(t[0]-e[0],t[1]-e[1])}function x(t){return"function"==typeof t}function h(t){return 1/Math.max(t,1)}i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return x})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return n}))},359:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t,e){this.x=t,this.y=e}clone(){return new n(this.x,this.y)}equals(t,e){return t===this.x&&e===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,e){this.x=t,this.y=e}normalize(){const t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);this.x/=i,this.y/=i}rightPerpendicular(){const t=this.x;this.x=this.y,this.y=-t}move(t,e){this.x+=t,this.y+=e}assign(t){this.x=t.x,this.y=t.y}assignAdd(t,e){this.x=t.x+e.x,this.y=t.y+e.y}assignSub(t,e){this.x=t.x-e.x,this.y=t.y-e.y}rotate(t,e){const i=this.x,n=this.y;this.x=i*t-n*e,this.y=i*e+n*t}scale(t){this.x*=t,this.y*=t}length(){const t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}static distance(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}static add(t,e){return new n(t.x+e.x,t.y+e.y)}static sub(t,e){return new n(t.x-e.x,t.y-e.y)}}},471:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return x}));var n=i(153),r=i(472),s=i(359);class o{constructor(t,e,i){this.ratio=t,this.x=e,this.y=i}}class x{constructor(t,e,i,r=8,s=8){this.lines=[],this.starts=[],this.pixelRatio=r,this.pixelMargin=s,this.tileSize=n.p*r,this.dz=t,this.yPos=e,this.xPos=i}setExtent(t){this.finalRatio=this.tileSize/t*(1<<this.dz);let e=this.pixelRatio*this.pixelMargin;e/=this.finalRatio;const i=t>>this.dz;e>i&&(e=i),this.margin=e,this.xmin=i*this.xPos-e,this.ymin=i*this.yPos-e,this.xmax=this.xmin+i+2*e,this.ymax=this.ymin+i+2*e}reset(t){this.type=t,this.lines=[],this.starts=[],this.line=null,this.start=0}moveTo(t,e){this._pushLine(),this._prevIsIn=this._isIn(t,e),this._moveTo(t,e,this._prevIsIn),this._prevPt=new s.a(t,e),this._firstPt=new s.a(t,e),this._dist=0}lineTo(t,e){const i=this._isIn(t,e),n=new s.a(t,e),r=s.a.distance(this._prevPt,n);let x,h,u,l,c,a,y,f;if(i)this._prevIsIn?this._lineTo(t,e,!0):(x=this._prevPt,h=n,u=this._intersect(h,x),this.start=this._dist+r*(1-this._r),this._lineTo(u.x,u.y,!0),this._lineTo(h.x,h.y,!0));else if(this._prevIsIn)h=this._prevPt,x=n,u=this._intersect(h,x),this._lineTo(u.x,u.y,!0),this._lineTo(x.x,x.y,!1);else{const t=this._prevPt,e=n;if(t.x<=this.xmin&&e.x<=this.xmin||t.x>=this.xmax&&e.x>=this.xmax||t.y<=this.ymin&&e.y<=this.ymin||t.y>=this.ymax&&e.y>=this.ymax)this._lineTo(e.x,e.y,!1);else{const i=[];if((t.x<this.xmin&&e.x>this.xmin||t.x>this.xmin&&e.x<this.xmin)&&(l=(this.xmin-t.x)/(e.x-t.x),f=t.y+l*(e.y-t.y),f<=this.ymin?a=!1:f>=this.ymax?a=!0:i.push(new o(l,this.xmin,f))),(t.x<this.xmax&&e.x>this.xmax||t.x>this.xmax&&e.x<this.xmax)&&(l=(this.xmax-t.x)/(e.x-t.x),f=t.y+l*(e.y-t.y),f<=this.ymin?a=!1:f>=this.ymax?a=!0:i.push(new o(l,this.xmax,f))),(t.y<this.ymin&&e.y>this.ymin||t.y>this.ymin&&e.y<this.ymin)&&(l=(this.ymin-t.y)/(e.y-t.y),y=t.x+l*(e.x-t.x),y<=this.xmin?c=!1:y>=this.xmax?c=!0:i.push(new o(l,y,this.ymin))),(t.y<this.ymax&&e.y>this.ymax||t.y>this.ymax&&e.y<this.ymax)&&(l=(this.ymax-t.y)/(e.y-t.y),y=t.x+l*(e.x-t.x),y<=this.xmin?c=!1:y>=this.xmax?c=!0:i.push(new o(l,y,this.ymax))),0===i.length)c?a?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):a?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(i.length>1&&i[0].ratio>i[1].ratio)this.start=this._dist+r*i[1].ratio,this._lineTo(i[1].x,i[1].y,!0),this._lineTo(i[0].x,i[0].y,!0);else{this.start=this._dist+r*i[0].ratio;for(let t=0;t<i.length;t++)this._lineTo(i[t].x,i[t].y,!0)}this._lineTo(e.x,e.y,!1)}}this._dist+=r,this._prevIsIn=i,this._prevPt=n}close(){if(this.line.length>2){const t=this._firstPt,e=this._prevPt;t.x===e.x&&t.y===e.y||this.lineTo(t.x,t.y);const i=this.line;let n=i.length;for(;n>=4&&(i[0].x===i[1].x&&i[0].x===i[n-2].x||i[0].y===i[1].y&&i[0].y===i[n-2].y);)i.pop(),i[0].x=i[n-2].x,i[0].y=i[n-2].y,--n}}result(t=!0){return this._pushLine(),0===this.lines.length?null:(3===this.type&&t&&u.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)}resultWithStarts(){if(2!==this.type)throw new Error("Only valid for lines");this._pushLine();const t=this.lines,e=t.length;if(0===e)return null;const i=[];for(let n=0;n<e;n++)i.push({line:t[n],start:this.starts[n]||0});return i}_isIn(t,e){return t>=this.xmin&&t<=this.xmax&&e>=this.ymin&&e<=this.ymax}_intersect(t,e){let i,n,r;if(e.x>=this.xmin&&e.x<=this.xmax)n=e.y<=this.ymin?this.ymin:this.ymax,r=(n-t.y)/(e.y-t.y),i=t.x+r*(e.x-t.x);else if(e.y>=this.ymin&&e.y<=this.ymax)i=e.x<=this.xmin?this.xmin:this.xmax,r=(i-t.x)/(e.x-t.x),n=t.y+r*(e.y-t.y);else{n=e.y<=this.ymin?this.ymin:this.ymax,i=e.x<=this.xmin?this.xmin:this.xmax;const s=(i-t.x)/(e.x-t.x),o=(n-t.y)/(e.y-t.y);s<o?(r=s,n=t.y+s*(e.y-t.y)):(r=o,i=t.x+o*(e.x-t.x))}return this._r=r,new s.a(i,n)}_pushLine(){this.line&&(1===this.type?this.line.length>0&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?this.line.length>1&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&this.line.length>3&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0}_moveTo(t,e,i){3!==this.type?i&&(t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line.push(new s.a(t,e))):(i||(t<this.xmin&&(t=this.xmin),t>this.xmax&&(t=this.xmax),e<this.ymin&&(e=this.ymin),e>this.ymax&&(e=this.ymax)),t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line.push(new s.a(t,e)),this._is_h=!1,this._is_v=!1)}_lineTo(t,e,i){let n,r;if(3!==this.type)if(i){if(t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line.length>0&&(n=this.line[this.line.length-1],n.equals(t,e)))return;this.line.push(new s.a(t,e))}else this.line&&this.line.length>0&&this._pushLine();else if(i||(t<this.xmin&&(t=this.xmin),t>this.xmax&&(t=this.xmax),e<this.ymin&&(e=this.ymin),e>this.ymax&&(e=this.ymax)),t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),e=Math.round((e-(this.ymin+this.margin))*this.finalRatio),this.line&&this.line.length>0){n=this.line[this.line.length-1];const i=n.x===t,o=n.y===e;if(i&&o)return;this._is_h&&i||this._is_v&&o?(n.x=t,n.y=e,r=this.line[this.line.length-2],r.x===t&&r.y===e?(this.line.pop(),this.line.length<=1?(this._is_h=!1,this._is_v=!1):(r=this.line[this.line.length-2],this._is_h=r.x===t,this._is_v=r.y===e)):(this._is_h=r.x===t,this._is_v=r.y===e)):(this.line.push(new s.a(t,e)),this._is_h=i,this._is_v=o)}else this.line.push(new s.a(t,e))}}class h{setExtent(t){this._ratio=4096===t?1:4096/t}reset(t){this.type=t,this.lines=[],this.line=null}moveTo(t,e){this.line&&this.lines.push(this.line),this.line=[];const i=this._ratio;this.line.push(new s.a(Math.round(t*i),Math.round(e*i)))}lineTo(t,e){const i=this._ratio;this.line.push(new s.a(Math.round(t*i),Math.round(e*i)))}close(){const t=this.line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])}result(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:(3===this.type&&1!==this._ratio&&u.simplify(4096,64,this.lines),this.lines)}}class u{static simplify(t,e,i){if(!i)return;const n=-e,r=t+e,s=-e,o=t+e,x=[],h=[],l=i.length;for(let t=0;t<l;++t){const e=i[t];if(!e||e.length<2)continue;let u,l=e[0];const c=e.length;for(let i=1;i<c;++i)u=e[i],l.x===u.x&&(l.x<=n&&(l.y>u.y?(x.push(t),x.push(i),x.push(0),x.push(-1)):(h.push(t),h.push(i),h.push(0),h.push(-1))),l.x>=r&&(l.y<u.y?(x.push(t),x.push(i),x.push(1),x.push(-1)):(h.push(t),h.push(i),h.push(1),h.push(-1)))),l.y===u.y&&(l.y<=s&&(l.x<u.x?(x.push(t),x.push(i),x.push(2),x.push(-1)):(h.push(t),h.push(i),h.push(2),h.push(-1))),l.y>=o&&(l.x>u.x?(x.push(t),x.push(i),x.push(3),x.push(-1)):(h.push(t),h.push(i),h.push(3),h.push(-1)))),l=u}if(0===x.length||0===h.length)return;u.fillParent(i,h,x),u.fillParent(i,x,h);const c=[];u.calcDeltas(c,h,x),u.calcDeltas(c,x,h),u.addDeltas(c,i)}static fillParent(t,e,i){const n=i.length,s=e.length;for(let o=0;o<s;o+=4){const s=e[o],x=e[o+1],h=e[o+2],u=t[s][x-1],l=t[s][x];let c=8092,a=-1;for(let e=0;e<n;e+=4){if(i[e+2]!==h)continue;const n=i[e],s=i[e+1],o=t[n][s-1],x=t[n][s];switch(h){case 0:case 1:if(Object(r.a)(u.y,o.y,x.y)&&Object(r.a)(l.y,o.y,x.y)){const t=Math.abs(x.y-o.y);t<c&&(c=t,a=e)}break;case 2:case 3:if(Object(r.a)(u.x,o.x,x.x)&&Object(r.a)(l.x,o.x,x.x)){const t=Math.abs(x.x-o.x);t<c&&(c=t,a=e)}}}e[o+3]=a}}static calcDeltas(t,e,i){const n=e.length;for(let r=0;r<n;r+=4){const n=[],s=u.calcDelta(r,e,i,n);t.push(e[r]),t.push(e[r+1]),t.push(e[r+2]),t.push(s)}}static calcDelta(t,e,i,n){const r=e[t+3];if(-1===r)return 0;const s=n.length;return s>1&&n[s-2]===r?0:(n.push(r),u.calcDelta(r,i,e,n)+1)}static addDeltas(t,e){const i=t.length;let n=0;for(let e=0;e<i;e+=4){const i=t[e+3];i>n&&(n=i)}for(let r=0;r<i;r+=4){const i=e[t[r]],s=t[r+1],o=n-t[r+3];switch(t[r+2]){case 0:i[s-1].x-=o,i[s].x-=o,1===s&&(i[i.length-1].x-=o),s===i.length-1&&(i[0].x-=o);break;case 1:i[s-1].x+=o,i[s].x+=o,1===s&&(i[i.length-1].x+=o),s===i.length-1&&(i[0].x+=o);break;case 2:i[s-1].y-=o,i[s].y-=o,1===s&&(i[i.length-1].y-=o),s===i.length-1&&(i[0].y-=o);break;case 3:i[s-1].y+=o,i[s].y+=o,1===s&&(i[i.length-1].y+=o),s===i.length-1&&(i[0].y+=o)}}}}},472:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return x})),i.d(e,"c",(function(){return o}));Number.POSITIVE_INFINITY;const n=Math.PI,r=128/n;Math.LN2;function s(t,e){return(t%=e)>=0?t:t+e}function o(t){return s(t*r,256)}function x(t){return s(.7111111111111111*t,256)}function h(t,e,i){return t>=e&&t<=i||t>=i&&t<=e}},516:function(t,e,i){"use strict";e.a=class{constructor(t=0,e=0,i=0,n=0){this.x=t,this.y=e,this.width=i,this.height=n}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}},517:function(t,e,i){"use strict";function n(t,e,i){const n=e&&e.length,x=n?e[0]*i:t.length;let h=r(t,0,x,i,!0);const u=new Array;if(!h||h.next===h.prev)return u;let l,y,f,d,p;if(n&&(h=function(t,e,i,n){const o=new Array;for(let i=0,s=e.length;i<s;i++){const x=r(t,e[i]*n,i<s-1?e[i+1]*n:t.length,n,!1);x===x.next&&(x.steiner=!0),o.push(c(x))}o.sort(v);for(const t of o)a(t,i),i=s(i,i.next);return i}(t,e,h,i)),t.length>80*i){l=f=t[0],y=d=t[1];for(let e=i;e<x;e+=i){const i=t[e],n=t[e+1];l=Math.min(l,i),y=Math.min(y,n),f=Math.max(f,i),d=Math.max(d,n)}p=Math.max(f-l,d-y),p=0!==p?1/p:0}return o(h,u,i,l,y,p),u}function r(t,e,i,n,r){let s;if(r===d(t,e,i,n)>0)for(let r=e;r<i;r+=n)s=u(r,t[r],t[r+1],s);else for(let r=i-n;r>=e;r-=n)s=u(r,t[r],t[r+1],s);return s&&b(s,s.next)&&(l(s),s=s.next),s}function s(t,e=t){if(!t)return t;let i,n=t;do{if(i=!1,n.steiner||!b(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(l(n),n=e=n.prev,n===n.next)break;i=!0}}while(i||n!==e);return e}function o(t,e,i,n,r,u,c=0){if(!t)return;!c&&u&&(t=function t(e,i,n,r){for(let s;s!==e;s=s.next){if(s=s||e,null===s.z&&(s.z=m(s.x,s.y,i,n,r)),s.prev.next!==s||s.next.prev!==s)return s.prev.next=s,s.next.prev=s,t(e,i,n,r);s.prevZ=s.prev,s.nextZ=s.next}return e.prevZ.nextZ=null,e.prevZ=null,function(t){let e,i=1;for(;;){let n,r=t;t=null,e=null;let s=0;for(;r;){s++,n=r;let o=0;for(;o<i&&n;o++)n=n.nextZ;let x=i;for(;o>0||x>0&&n;){let i;0===o?(i=n,n=n.nextZ,x--):0!==x&&n?r.z<=n.z?(i=r,r=r.nextZ,o--):(i=n,n=n.nextZ,x--):(i=r,r=r.nextZ,o--),e?e.nextZ=i:t=i,i.prevZ=e,e=i}r=n}if(e.nextZ=null,i*=2,s<2)return t}}(e)}(t,n,r,u));let a=t;for(;t.prev!==t.next;){const y=t.prev,f=t.next;if(u?h(t,n,r,u):x(t))e.push(y.index/i),e.push(t.index/i),e.push(f.index/i),l(t),t=f.next,a=f.next;else if((t=f)===a){c?1===c?o(t=T(t,e,i),e,i,n,r,u,2):2===c&&V(t,e,i,n,r,u):o(s(t),e,i,n,r,u,1);break}}}function x(t){const e=t.prev,i=t,n=t.next;if(y(e,i,n)>=0)return!1;let r=t.next.next;const s=r;let o=0;for(;r!==t.prev&&(0===o||r!==s);){if(o++,p(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&y(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function h(t,e,i,n){const r=t.prev,s=t,o=t.next;if(y(r,s,o)>=0)return!1;const x=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,u=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,l=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,c=m(x,h,e,i,n),a=m(u,l,e,i,n);let f=t.prevZ,d=t.nextZ;for(;f&&f.z>=c&&d&&d.z<=a;){if(f!==t.prev&&f!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==t.prev&&d!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=a;){if(d!==t.prev&&d!==t.next&&p(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(t,e,i,n){const r=new _(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function l(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function c(t){let e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function a(t,e){if(e=function(t,e){let i=e;const n=t.x,r=t.y;let s,o=-1/0;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){const t=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=n&&t>o){if(o=t,t===n){if(r===i.y)return i;if(r===i.next.y)return i.next}s=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!s)return null;if(n===o)return s.prev;const x=s,h=s.x,u=s.y;let l,c=1/0;for(i=s.next;i!==x;)n>=i.x&&i.x>=h&&n!==i.x&&p(r<u?n:o,r,h,u,r<u?o:n,r,i.x,i.y)&&(l=Math.abs(r-i.y)/(n-i.x),(l<c||l===c&&i.x>s.x)&&g(i,t)&&(s=i,c=l)),i=i.next;return s}(t,e)){const i=E(e,t);s(i,i.next)}}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function f(t,e,i,n){return!!(b(t,e)&&b(i,n)||b(t,n)&&b(i,e))||y(t,e,i)>0!=y(t,e,n)>0&&y(i,n,t)>0!=y(i,n,e)>0}function d(t,e,i,n){let r=0;for(let s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}function p(t,e,i,n,r,s,o,x){return(r-o)*(e-x)-(t-o)*(s-x)>=0&&(t-o)*(n-x)-(i-o)*(e-x)>=0&&(i-o)*(s-x)-(r-o)*(n-x)>=0}function g(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function m(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t,e){return t.x===e.x&&t.y===e.y}function v(t,e){return t.x-e.x}function T(t,e,i){let n=t;do{const r=n.prev,s=n.next.next;!b(r,s)&&f(r,n,n.next,s)&&g(r,s)&&g(s,r)&&(e.push(r.index/i),e.push(n.index/i),e.push(s.index/i),l(n),l(n.next),n=t=s),n=n.next}while(n!==t);return n}function V(t,e,i,n,r,x){let h=t;do{let t=h.next.next;for(;t!==h.prev;){if(h.index!==t.index&&w(h,t)){let u=E(h,t);return h=s(h,h.next),u=s(u,u.next),o(h,e,i,n,r,x),void o(u,e,i,n,r,x)}t=t.next}h=h.next}while(h!==t)}function w(t,e){return t.next.index!==e.index&&t.prev.index!==e.index&&!function(t,e){let i=t;do{if(i.index!==t.index&&i.next.index!==t.index&&i.index!==e.index&&i.next.index!==e.index&&f(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&g(t,e)&&g(e,t)&&function(t,e){let i=t,n=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function E(t,e){const i=new _(t.index,t.x,t.y),n=new _(e.index,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}i.d(e,"a",(function(){return n}));class _{constructor(t,e,i){this.index=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}},518:function(t,e,i){"use strict";i.d(e,"a",(function(){return V})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return r}));var n=i(266);function r(t,e,i){h.trackDistance=null!=e.trackDistance&&e.trackDistance,h.wrapDistance=null!=e.wrapDistance?e.wrapDistance:65535,h.thin=null!=e.thin&&e.thin,h.initialDistance=null!=e.initialDistance?e.initialDistance:0,h.enableOuterBisectorSplit=null!=e.enableOuterBisectorSplit&&e.enableOuterBisectorSplit,h.outerBisectorAutoSplitThreshold=null!=e.outerBisectorAutoSplitThreshold?e.outerBisectorAutoSplitThreshold:0,h.enableInnerBisectorSplit=null!=e.enableOuterBisectorSplit&&e.enableOuterBisectorSplit,h.innerBisectorAutoSplitThreshold=null!=e.innerBisectorAutoSplitThreshold?e.innerBisectorAutoSplitThreshold:0,x=t,u=i,d=0,l=0,c=0,a=!1,y=null,f=null,p.currentVertex.x=null,p.currentVertex.y=null,p.distance=h.initialDistance;const n=x[0],r=x[x.length-1];p.canSplit=!1,p.closed=n.x===r.x&&n.y===r.y,x.length<2||2===x.length&&p.closed||(h.thin?h.trackDistance?function(){for(g(),m(),T(1);l-c>h.wrapDistance||d<x.length;)g(),m(),T(2),u.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2}():function(){for(;d<x.length;){if(d>0&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),d<x.length-1){p.outbound.x=x[d+1].x-x[d].x,p.outbound.y=x[d+1].y-x[d].y;const t=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y);p.distance+=t,p.outbound.x/=t,p.outbound.y/=t}else p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y;0===d&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=x[d].x,p.currentVertex.y=x[d].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x,0===d?(u.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(u.vertex(p),p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,u.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2),++d}}():h.enableOuterBisectorSplit||h.outerBisectorAutoSplitThreshold>0||h.enableInnerBisectorSplit||h.innerBisectorAutoSplitThreshold>0?(p.canSplit=!0,function(){for(g(),b(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,v(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;l-c>h.wrapDistance||d<x.length-1||d<x.length&&(!p.closed||h.trackDistance);)g(),b(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,v(2),u.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!h.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,u.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}()):function(){for(g(),b(),v(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;l-c>h.wrapDistance||d<x.length-1||d<x.length&&(!p.closed||h.trackDistance);)g(),b(),v(2),u.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!h.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,u.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}())}function s(){x=null,u=null}function o(){if(p.cosine<h.innerBisectorAutoSplitThreshold){p.splitInner=!0,p.gapInner=!0;const t=Math.max(h.innerBisectorAutoSplitThreshold,p.cosine),e=Math.sqrt(1-t*t)/t;p.leftInner.x=p.nextNormal.x+p.sign*e*p.outbound.x,p.leftInner.y=p.nextNormal.y+p.sign*e*p.outbound.y,p.rightInner.x=p.prevNormal.x-p.sign*e*p.inbound.x,p.rightInner.y=p.prevNormal.y-p.sign*e*p.inbound.y}else h.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/p.cosine);if(p.cosine<h.outerBisectorAutoSplitThreshold){p.splitOuter=!0,p.gapOuter=!0;const t=Math.max(h.outerBisectorAutoSplitThreshold,p.cosine),e=Math.sqrt(1-t*t)/t;p.leftOuter.x=p.prevNormal.x-p.sign*e*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*e*p.inbound.y,p.rightOuter.x=p.nextNormal.x+p.sign*e*p.outbound.x,p.rightOuter.y=p.nextNormal.y+p.sign*e*p.outbound.y}else h.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=p.bisector.y/p.cosine)}let x;const h={};let u,l,c,a,y,f,d=void 0;const p=new class{constructor(){this.closed=void 0,this.isFirstVertex=void 0,this.isLastVertex=void 0,this.isCap=void 0,this.currentVertex={x:void 0,y:void 0},this.inbound={x:void 0,y:void 0},this.outbound={x:void 0,y:void 0},this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.bisector={x:void 0,y:void 0},this.leftInner={x:void 0,y:void 0},this.rightInner={x:void 0,y:void 0},this.leftOuter={x:void 0,y:void 0},this.rightOuter={x:void 0,y:void 0}}};function g(){if(a)return p.distance=0,p.isCap=p.isFirstVertex=p.isLastVertex=!1,void(a=!1);if(0===l)if(p.isFirstVertex=0===d,f=x[d],0===d){if(l=0,p.closed){p.inbound.x=f.x-x[x.length-2].x,p.inbound.y=f.y-x[x.length-2].y;const t=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=t,p.inbound.y/=t}}else p.inbound.x=f.x-y.x,p.inbound.y=f.y-y.y,l=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=l,p.inbound.y/=l;if(p.distance+l-c<=h.wrapDistance){if(d<x.length-1){p.outbound.x=x[d+1].x-f.x,p.outbound.y=x[d+1].y-f.y;const t=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y);p.outbound.x/=t,p.outbound.y/=t}else if(p.closed){p.outbound.x=x[1].x-f.x,p.outbound.y=x[1].y-f.y;const t=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y);p.outbound.x/=t,p.outbound.y/=t}else p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y;return 0!==d||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++d,p.isLastVertex=d===x.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),p.distance+=l-c,l=0,c=0,a=p.distance+l-c===h.wrapDistance,p.currentVertex.x=f.x,p.currentVertex.y=f.y,y=f,void(f=null)}p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y,c+=h.wrapDistance-p.distance,p.distance=h.wrapDistance,a=!0;const t=c/l;p.currentVertex.x=(1-t)*y.x+t*f.x,p.currentVertex.y=(1-t)*y.y+t*f.y}function m(){p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x}function b(){m(),p.bisector.x=p.prevNormal.x+p.nextNormal.x,p.bisector.y=p.prevNormal.y+p.nextNormal.y;const t=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);if(t<.001)return p.bisector.x=void 0,p.bisector.y=void 0,p.cosine=0,void(p.sign=void 0);p.bisector.x/=t,p.bisector.y/=t,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*p.nextNormal.y,p.sign=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x>=0?1:-1}function v(t){u.vertex(p),1===t?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===t&&(p.rightEntry0=p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}function T(t){u.vertex(p),1===t?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):2===t&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2)}class V{constructor(t,e){this.writeVertex=t,this.writeTriangle=e,this.capType=0,this.joinType=2,this.miterLimitCosine=Object(n.b)(2),this.roundLimitCosine=Math.cos(23*Math.PI/180),this.almostParallelCosine=.97,this.radsPerSlice=.8,this.textured=!1,this.joinOnUTurn=!1}vertex(t){const e=2===this.joinType?this.miterLimitCosine:this.roundLimitCosine,i=t.isCap&&0!==this.capType;let n=!1;t.cosine>this.almostParallelCosine?(t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance),t.exit2=t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance)):t.cosine<1-this.almostParallelCosine?(n=!t.isCap&&this.joinOnUTurn,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)):t.canSplit?(o(),t.sign>0?(t.splitInner?(t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,t.leftInner.x,t.leftInner.y,0,-1,t.distance),t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.rightInner.x,t.rightInner.y,0,-1,t.distance)):t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance),t.cosine<e?(n=!t.isCap,t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)):t.splitOuter?(n=n||t.gapOuter,t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,-t.leftOuter.x,-t.leftOuter.y,0,1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,-t.rightOuter.x,-t.rightOuter.y,0,1,t.distance)):t.entry2=t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance)):(t.splitInner?(t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,-t.leftInner.x,-t.leftInner.y,0,1,t.distance),t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,-t.rightInner.x,-t.rightInner.y,0,1,t.distance)):t.exit2=t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance),t.cosine<e?(n=!t.isCap,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance)):t.splitOuter?(n=n||t.gapOuter,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.leftOuter.x,t.leftOuter.y,0,-1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,t.rightOuter.x,t.rightOuter.y,0,-1,t.distance)):t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance))):t.sign>0?(t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance),t.cosine<e?(n=!t.isCap,t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)):t.entry2=t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance)):(t.exit2=t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance),t.cosine<e?(n=!t.isCap,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance)):t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance));const r=t.canSplit&&(t.splitInner||t.splitOuter);let s;if(s=t.entry1=t.exit1=r||n||i?this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,0,0,0,0,t.distance):null,n&&1!==this.joinType)this.writeTriangle(s,t.sign>0?t.exit2:t.entry0,t.sign>0?t.entry2:t.exit0);else if(i&&1===this.capType||n&&1===this.joinType){let e,i,n,r,o,x;if(t.isCap){const s=Math.PI;o=Math.ceil(s/this.radsPerSlice),x=s/o,t.isFirstVertex?(e=t.prevNormal.x,i=t.prevNormal.y,n=t.entry0,r=t.entry2):t.isLastVertex&&(e=-t.nextNormal.x,i=-t.nextNormal.y,n=t.exit2,r=t.exit0)}else{const s=2*Math.acos(t.cosine);o=Math.ceil(s/this.radsPerSlice),x=s/o,e=t.sign>0?-t.prevNormal.x:t.nextNormal.x,i=t.sign>0?-t.prevNormal.y:t.nextNormal.y,n=t.sign>0?t.entry2:t.exit0,r=t.sign>0?t.exit2:t.entry0}const h=Math.cos(x),u=Math.sin(x),l=u*e+h*i;let c,a;e=h*e-u*i,i=l;for(let x=0;x<o;++x){if(c=a,x<o-1)if(t.isCap){const n=t.isFirstVertex?-1:1;a=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,e,i,n,0,t.distance)}else a=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,e,i,0,t.sign,t.distance);this.writeTriangle(0===x?n:c,s,x===o-1?r:a);const l=u*e+h*i;e=h*e-u*i,i=l}}else if(i&&2===this.capType){const e=t.isFirstVertex?1:-1;let i,n;this.textured?(i=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x-e*t.inbound.x,t.prevNormal.y-e*t.inbound.y,-e,-1,t.distance),n=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x-e*t.inbound.x,-t.prevNormal.y-e*t.inbound.y,-e,1,t.distance)):(i=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x-e*t.inbound.x,t.prevNormal.y-e*t.inbound.y,0,-1,t.distance),n=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x-e*t.inbound.x,-t.prevNormal.y-e*t.inbound.y,0,1,t.distance)),e>0?(this.writeTriangle(s,t.entry2,n),this.writeTriangle(s,n,i),this.writeTriangle(s,i,t.entry0)):(this.writeTriangle(s,n,t.exit2),this.writeTriangle(s,i,n),this.writeTriangle(s,t.exit0,i))}}bridge(t){this.writeTriangle(t.leftExit0,t.rightEntry0,null!=t.leftExit1?t.leftExit1:t.leftExit2),this.writeTriangle(t.rightEntry0,null!=t.rightEntry1?t.rightEntry1:t.rightEntry2,null!=t.leftExit1?t.leftExit1:t.leftExit2),null!=t.leftExit1&&null!=t.rightEntry1?(this.writeTriangle(t.leftExit1,t.rightEntry1,t.leftExit2),this.writeTriangle(t.rightEntry1,t.rightEntry2,t.leftExit2)):null!=t.leftExit1?this.writeTriangle(t.leftExit1,t.rightEntry2,t.leftExit2):null!=t.rightEntry1&&this.writeTriangle(t.rightEntry1,t.rightEntry2,t.leftExit2)}}},542:function(t,e,i){"use strict";const n=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],r=["آ","أ","إ","ا"],s=["ﻵ","ﻷ","ﻹ","ﻻ"],o=["ﻶ","ﻸ","ﻺ","ﻼ"],x=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],h=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],u=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],l=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],c=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],a=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],y=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],f=["ء","ف"],d=["غ","ي"],p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],b=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107],v=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];function T(t){const e=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return e?e[0]<="z"?"ltr":"rtl":""}function V(t,e){const i=t.split(""),n=[];return w(i,n,e),function(t,e,i){if(0!==i.hiLevel&&i.swap.substr(0,1)!==i.swap.substr(1,2))for(let i=0;i<t.length;i++)1===e[i]&&(t[i]=I(t[i]))}(i,n,e),S(2,i,n,e),S(1,i,n,e),j=n,i.join("")}function w(t,e,i){const n=t.length,r=i.dir?g:p;let s=0,o=-1;const x=[],h=[];i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1;for(let e=0;e<n;e++)x[e]=E(t[e]);for(let u=0;u<n;u++){const n=s,l=R(t,x,h,u,i);h[u]=l,s=r[n][l];const c=240&s;s&=15;const a=r[s][Y];if(e[u]=a,c>0)if(16===c){for(let t=o;t<u;t++)e[t]=1;o=-1}else o=-1;if(r[s][W])-1===o&&(o=u);else if(o>-1){for(let t=o;t<u;t++)e[t]=a;o=-1}5===x[u]&&(e[u]=0),i.hiLevel|=a}i.hasUbatS&&function(t,e,i,n){for(let r=0;r<i;r++)if(6===t[r]){e[r]=n.dir;for(let i=r-1;i>=0&&8===t[i];i--)e[i]=n.dir}}(x,e,n,i)}function E(t){const e=t.charCodeAt(0),i=b[e>>8];return i<100?i:v[i-100][255&e]}function _(t,e){const i=t.split("");if(e){const t=[];w(i,t,e),j=t}return i.reverse(),k.reverse(),i.join("")}function A(t,e,i){for(let n=0;n<e;n++)if(t[n]===i)return n;return-1}function N(t){for(let e=0;e<f.length;e++)if(t>=f[e]&&t<=d[e])return!0;return!1}function L(t,e,i,n){for(;e*i<n&&U(t[e]);)e+=i;return!!(e*i<n&&N(t[e]))}function B(t,e,i,n){for(;e*i<n&&U(t[e]);)e+=i;let s=" ";if(!(e*i<n))return!1;s=t[e];for(let t=0;t<r.length;t++)if(r[t]===s)return!0;return!1}function S(t,e,i,n){if(n.hiLevel<t)return;if(1===t&&n.dir===G&&!n.hasUbatB)return e.reverse(),void k.reverse();const r=e.length;let s,o,x,h,u,l=0;for(;l<r;){if(i[l]>=t){for(s=l+1;s<r&&i[s]>=t;)s++;for(o=l,x=s-1;o<x;o++,x--)h=e[o],e[o]=e[x],e[x]=h,u=k[o],k[o]=k[x],k[x]=u;l=s}l++}}function R(t,e,i,n,r){const s=e[n];return{UBAT_L:()=>(r.lastArabic=!1,0),UBAT_R:()=>(r.lastArabic=!1,1),UBAT_ON:()=>4,UBAT_AN:()=>3,UBAT_EN:()=>r.lastArabic?3:2,UBAT_AL:()=>(r.lastArabic=!0,r.hasUbatAl=!0,1),UBAT_WS:()=>4,UBAT_CS:()=>{let t,s;return n<1||n+1>=e.length||2!==(t=i[n-1])&&3!==t||2!==(s=e[n+1])&&3!==s?4:(r.lastArabic&&(s=3),s===t?s:4)},UBAT_ES:()=>2===(n>0?i[n-1]:5)&&n+1<e.length&&2===e[n+1]?2:4,UBAT_ET:()=>{if(n>0&&2===i[n-1])return 2;if(r.lastArabic)return 4;let t=n+1;const s=e.length;for(;t<s&&11===e[t];)t++;return t<s&&2===e[t]?2:4},UBAT_NSM:()=>{if("VLTR"===r.inFormat){const i=e.length;let r=n+1;for(;r<i&&12===e[r];)r++;if(r<i){const i=t[n].charCodeAt[0],s=i>=1425&&i<=2303||64286===i,o=e[r];if(s&&(1===o||7===o))return 1}}return n<1||5===e[n-1]?4:i[n-1]},UBAT_B:()=>(r.lastArabic=!0,r.hasUbatB=!0,r.dir),UBAT_S:()=>(r.hasUbatS=!0,4),UBAT_LRE:()=>(r.lastArabic=!1,4),UBAT_RLE:()=>(r.lastArabic=!1,4),UBAT_LRO:()=>(r.lastArabic=!1,4),UBAT_RLO:()=>(r.lastArabic=!1,4),UBAT_PDF:()=>(r.lastArabic=!1,4),UBAT_BN:()=>4}[m[s]]()}function I(t){let e,i=0,r=n.length-1;for(;i<=r;)if(e=Math.floor((i+r)/2),t<n[e][0])r=e-1;else{if(!(t>n[e][0]))return n[e][1];i=e+1}return t}function O(t){for(let e=0;e<a.length;e++)if(a[e]===t)return!0;return!1}function F(t){for(let e=0;e<x.length;e++)if(t===x[e])return l[e];return t}function M(t,e){for(let i=0;i<x.length;i++)if(t===x[i])return e[i];return t}function U(t){return t>="ً"&&t<="ٕ"}function C(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":""}function D(t,e,i,n){for(;e*i<n&&U(t[e]);)e+=i;return e*i<n&&(t[e]=" ",!0)}function P(t,e){for(let i=0;i<r.length;i++)if(t===r[i])return e[i];return t}function Z(t,e,i,n){for(let r=0;r<t.length;r++)(t[r]>e||!i&&t[r]===e)&&(t[r]+=n)}let k=[],z=[],j=[];const q={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},Y=5,W=6,$=0,G=1,H=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,J=/[\u0591-\u06ff\ufb1d-\ufefc]/;e.a=class{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(t,e,i){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(function(t,e,i){k=[],j=[];for(let n=0;n<i;n++)t[n]=n,e[n]=n,k[n]=n}(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(e,i))return t;e=this.inputFormat,i=this.outputFormat;let n=t;const x=q,l=C(e.charAt(1)),a=C(i.charAt(1)),f=("I"===e.charAt(0)?"L":e.charAt(0))+l,d=("I"===i.charAt(0)?"L":i.charAt(0))+a,p=e.charAt(2)+i.charAt(2);x.defInFormat=f,x.defOutFormat=d,x.defSwap=p;const g=function t(e,i,n,r,s){const o=function(t,e,i){if(void 0===e.inFormat&&(e.inFormat=i.defInFormat),void 0===e.outFormat&&(e.outFormat=i.defOutFormat),void 0===e.swap&&(e.swap=i.defSwap),e.inFormat===e.outFormat)return e;const n=e.inFormat.substring(0,1),r=e.outFormat.substring(0,1);let s,o=e.inFormat.substring(1,4),x=e.outFormat.substring(1,4);return"C"===o.charAt(0)&&(s=T(t),o="ltr"===s||"rtl"===s?s.toUpperCase():"L"===e.inFormat.charAt(2)?"LTR":"RTL",e.inFormat=n+o),"C"===x.charAt(0)&&(s=T(t),"rtl"===s?x="RTL":"ltr"===s?(s=function(t){const e=t.split("");return e.reverse(),T(e.join(""))}(t),x=s.toUpperCase()):x="L"===e.outFormat.charAt(2)?"LTR":"RTL",e.outFormat=r+x),e}(e,{inFormat:i,outFormat:n,swap:r},s);if(o.inFormat===o.outFormat)return e;i=o.inFormat,n=o.outFormat,r=o.swap;const x=i.substring(0,1),h=i.substring(1,4),u=n.substring(0,1),l=n.substring(1,4);if(s.inFormat=i,s.outFormat=n,s.swap=r,"L"===x&&"VLTR"===n){if("LTR"===h)return s.dir=$,V(e,s);if("RTL"===h)return s.dir=G,V(e,s)}if("V"===x&&"V"===u)return s.dir="RTL"===h?G:$,_(e,s);if("L"===x&&"VRTL"===n)return"LTR"===h?(s.dir=$,e=V(e,s)):(s.dir=G,e=V(e,s)),_(e);if("VLTR"===i&&"LLTR"===n)return s.dir=$,V(e,s);if("V"===x&&"L"===u&&h!==l)return e=_(e),"RTL"===h?t(e,"LLTR","VLTR",r,s):t(e,"LRTL","VRTL",r,s);if("VRTL"===i&&"LRTL"===n)return t(e,"LRTL","VRTL",r,s);if("L"===x&&"L"===u){const i=s.swap;return s.swap=i.substr(0,1)+"N","RTL"===h?(s.dir=G,e=V(e,s),s.swap="N"+i.substr(1,2),s.dir=$,e=V(e,s)):(s.dir=$,e=V(e,s),s.swap="N"+i.substr(1,2),e=t(e,"VLTR","LRTL",s.swap,s)),e}return e}(t,f,d,p,x);let m=!1;return"R"===i.charAt(1)?m=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(m="rtl"===this.checkContextual(g)),this.sourceToTarget=k,this.targetToSource=function(t){const e=new Array(t.length);for(let i=0;i<t.length;i++)e[t[i]]=i;return e}(this.sourceToTarget),z=this.targetToSource,n=e.charAt(3)===i.charAt(3)?g:"S"===i.charAt(3)?function(t,e,i){if(0===e.length)return"";void 0===t&&(t=!0),void 0===i&&(i=!0);const n=(e=String(e)).split("");let r=0,x=1,l=n.length;t||(r=n.length-1,x=-1,l=1);const a=function(t,e,i,n,r){let x=0;const l=[];let a=0;for(let y=e;y*i<n;y+=i)if(N(t[y])||U(t[y])){if("ل"===t[y]&&B(t,y+i,i,n)){t[y]=P(t[y+i],0===x?s:o),y+=i,D(t,y,i,n),r&&(l[a]=y,a++),x=0;continue}const e=t[y];1===x?t[y]=L(t,y+i,i,n)?F(t[y]):M(t[y],u):!0===L(t,y+i,i,n)?t[y]=M(t[y],c):t[y]=M(t[y],h),U(e)||(x=1),!0===O(e)&&(x=0)}else x=0;return l}(n,r,x,l,i);let y="";for(let e=0;e<n.length;e++)i&&A(a,a.length,e)>-1?(Z(z,e,!t,-1),k.splice(e,1)):y+=n[e];return y}(m,g,!0):function(t,e,i){if(0===t.length)return"";void 0===i&&(i=!0),void 0===e&&(e=!0);let n="";const s=(t=String(t)).split("");for(let o=0;o<t.length;o++){let x=!1;if(s[o]>="ﹰ"&&s[o]<"\ufeff"){const h=t.charCodeAt(o);s[o]>="ﻵ"&&s[o]<="ﻼ"?(e?(o>0&&i&&" "===s[o-1]?n=n.substring(0,n.length-1)+"ل":(n+="ل",x=!0),n+=r[(h-65269)/2]):(n+=r[(h-65269)/2],n+="ل",o+1<t.length&&i&&" "===s[o+1]?o++:x=!0),x&&(Z(z,o,!0,1),k.splice(o,0,k[o]))):n+=y[h-65136]}else n+=s[o]}return n}(g,m,!0),this.sourceToTarget=k,this.targetToSource=z,this.levels=j,n}_inputFormatSetter(t){if(!H.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t}_outputFormatSetter(t){if(!H.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t}checkParameters(t,e){return t?this._inputFormatSetter(t):t=this.inputFormat,e?this._outputFormatSetter(e):e=this.outputFormat,t!==e}checkContextual(t){let e=T(t);if("ltr"!==e&&"rtl"!==e){try{e=document.dir.toLowerCase()}catch(t){}"ltr"!==e&&"rtl"!==e&&(e="ltr")}return e}hasBidiChar(t){return J.test(t)}}}});