self.webpackChunkRemoteClient([5],{105:function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return f})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return u})),i.d(t,"g",(function(){return a})),i.d(t,"h",(function(){return l})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return p})),i.d(t,"k",(function(){return o}));var r=i(37),n=i(70);function s(e=b){return[e[0],e[1],e[2],e[3]]}function l(e,t,i,r,n=s()){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function a(e,t=s()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function o(e,t){return new n.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function c(e,t,i=e){if("length"in t)d(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y);break;default:Object(r.a)(t)}return i}function u(e,t,i=e){const r=t.length;let n=e[0],s=e[1],l=e[2],a=e[3];for(let e=0;e<r;e++){const i=t[e];n=Math.min(n,i[0]),s=Math.min(s,i[1]),l=Math.max(l,i[0]),a=Math.max(a,i[1])}return i[0]=n,i[1]=s,i[2]=l,i[3]=a,i}function h(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function p(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function f(e){return e?p(e,m):s(m)}function d(e){return 4===e.length}const m=[1/0,1/0,-1/0,-1/0],b=[0,0,0,0]},165:function(e,t,i){"use strict";var r,n=i(24),s=(i(3),i(20),i(7),i(9)),l=i(26),a=i(67),o=i(68),c=i(25),u=i(66),h=(i(4),i(41),i(42),i(65)),p=i(89),f=i(71),d=i(138),m=i(76),b=(i(72),i(110)),v=i(105),y=i(245);const g=new a.a({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let O=r=class extends h.a{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={size:256,spatialReference:f.a.WebMercator}){const t=e.resolutionFactor||1,i=e.scales,n=e.size||256,s=e.spatialReference||f.a.WebMercator;if(!Object(p.f)(s)){const e=[];if(i)for(let t=0;t<i.length;t++){const r=i[t];e.push({level:t,scale:r,resolution:r})}else{let t=5e-4;for(let i=23;i>=0;i--)e.unshift({level:i,scale:t,resolution:t}),t*=2}return new r({dpi:96,lods:e,origin:new m.a(0,0,s),size:[n,n],spatialReference:s})}const l=Object(p.d)(s),a=e.origin?new m.a({x:e.origin.x,y:e.origin.y,spatialReference:s}):new m.a(l?{x:l.origin[0],y:l.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),o=1/(39.37*Object(b.b)(s)*96),c=[];if(i)for(let e=0;e<i.length;e++){const t=i[e],r=t*o;c.push({level:e,scale:t,resolution:r})}else{let e=Object(p.e)(s)?512/n*591657527.5917094:256/n*591657527.591555;const i=Math.ceil(24/t);c.push({level:0,scale:e,resolution:e*o});for(let r=1;r<i;r++){const i=e/Math.pow(2,t),n=i*o;c.push({level:r,scale:i,resolution:n}),e=i}}return new r({dpi:96,lods:c,origin:a,size:[n,n],spatialReference:s})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=Object(p.d)(e);return e.isWrappable&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return m.a.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[];this._levelToLOD={},e&&(t=-1/0,i=1/0,e.forEach(e=>{r.push(e.scale),t=e.scale>t?e.scale:t,i=e.scale<i?e.scale:i,this._levelToLOD[e.level]=e})),this._set("scales",r),this._set("minScale",t),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[0]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];{const i=Math.round(e-.5),r=Math.round(e);return t[r]+(r-e)*(t[i]-t[r])}}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const i=t[r],n=t[r+1];if(i<=e)return r;if(n===e)return r+1;if(i>e&&n<e)return r+1-(e-n)/(i-n)}return r}snapScale(e,t=.95){const i=this.scaleToZoom(e);return i%Math.floor(i)>=t?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(e,t,i,r){const n=this.lodAt(e);if(!n)return null;let s,l;if("number"==typeof t)s=t,l=i;else if(Object(p.c)(t.spatialReference,this.spatialReference))s=t.x,l=t.y,r=i;else{const e=Object(d.d)(t,this.spatialReference);if(!e)return null;s=e.x,l=e.y,r=i}const a=n.resolution*this.size[0],o=n.resolution*this.size[1];return r||(r={id:null,level:0,row:0,col:0,extent:Object(v.c)()}),r.level=e,r.row=Math.floor((this.origin.y-l)/o+.001),r.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(r),r}updateTileInfo(e){const t=this.lodAt(e.level);if(!t)return;const i=t.resolution*this.size[0],r=t.resolution*this.size[1];e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Object(v.c)()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*r,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+r}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const{resolution:i}=this.lodAt(t.level),r=i*this.size[0],n=i*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+r,e[3]=e[1]+n,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return r.fromJSON(this.write({}))}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],O.prototype,"compressionQuality",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],O.prototype,"dpi",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:g.read,write:g.write,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"format",void 0),Object(n.a)([Object(l.b)({readOnly:!0,dependsOn:["spatialReference","origin"]})],O.prototype,"isWrappable",null),Object(n.a)([Object(l.b)({type:m.a,json:{write:!0}})],O.prototype,"origin",void 0),Object(n.a)([Object(o.a)("origin")],O.prototype,"readOrigin",null),Object(n.a)([Object(l.b)({type:[y.a],value:null,json:{write:!0}})],O.prototype,"lods",null),Object(n.a)([Object(l.b)({readOnly:!0})],O.prototype,"minScale",void 0),Object(n.a)([Object(l.b)({readOnly:!0})],O.prototype,"maxScale",void 0),Object(n.a)([Object(l.b)({readOnly:!0})],O.prototype,"scales",void 0),Object(n.a)([Object(l.b)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],O.prototype,"size",void 0),Object(n.a)([Object(o.a)("size",["rows","cols"])],O.prototype,"readSize",null),Object(n.a)([Object(u.a)("size",{cols:{type:s.a},rows:{type:s.a}})],O.prototype,"writeSize",null),Object(n.a)([Object(l.b)({type:f.a,json:{write:!0}})],O.prototype,"spatialReference",void 0),O=r=Object(n.a)([Object(c.a)("esri.layers.support.TileInfo")],O);var j=O;t.a=j},245:function(e,t,i){"use strict";var r,n=i(24),s=(i(3),i(20),i(7),i(9)),l=i(26),a=i(25),o=(i(4),i(41),i(42),i(65));let c=r=class extends o.a{constructor(e){super(e),this.level=0,this.levelValue=null,this.resolution=0,this.scale=0}clone(){return new r({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}};Object(n.a)([Object(l.b)({type:s.a,json:{write:!0}})],c.prototype,"level",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=r=Object(n.a)([Object(a.a)("esri.layers.support.LOD")],c);var u=c;t.a=u},292:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var r=i(24),n=(i(3),i(20),i(7)),s=i(26),l=i(75),a=i(25),o=i(10),c=i(4),u=(i(41),i(5)),h=i(43),p=(i(42),i(23)),f=i(48),d=i(30),m=i(97),b=i(46),v=i(354),y=i(8),g=i(21);class O{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;const i=(e-this.location.top)*this.location.width+(t-this.location.left),r=i%8,n=i>>3,s=this._tileAvailabilityBitSet;return n<0||n>s.length?"unknown":s[n]&1<<r?"available":"unavailable"}_updateFromData(e){const t=this.location.width,i=this.location.height;let r=!0,n=!0;const s=Math.ceil(t*i/8),l=new Uint8Array(s);let a=0;for(let t=0;t<e.length;t++){const i=t%8;e[t]?(n=!1,l[a]|=1<<i):r=!1,7===i&&++a}n?this._allAvailability="unavailable":r?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=l,this.byteSize+=l.length)}static fromDefinition(e,t){const i=e.service.request||h.default,{row:r,col:n,width:s,height:l}=e,a={query:{f:"json"}};return t=t?{...a,...t}:a,i(function(e){let t;if("vector-tile"===e.service.type)t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;else{const i=e.service.tileServers;t=`${i&&i.length?i[e.row%i.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}const i=e.service.query;return i&&(t=`${t}?${i}`),t}(e),t).then(e=>e.data).catch(e=>{if(e&&e.details&&422===e.details.httpStatus)return{location:{top:r,left:n,width:s,height:l},valid:!0,data:Object(g.b)(s*l,0)};throw e}).then(e=>{if(e.location&&(e.location.top!==r||e.location.left!==n||e.location.width!==s||e.location.height!==l))throw new o.a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:e,definition:{top:r,left:n,width:s,height:l}});return O.fromJSON(e)})}static fromJSON(e){O.validateJSON(e);const t=new O;return t.location=Object.freeze(Object(y.a)(e.location)),t._updateFromData(e.data),Object.freeze(t)}static validateJSON(e){if(!e||!e.location)throw new o.a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new o.a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new o.a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new o.a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new o.a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function j(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}var w;const _=n.a.getLogger("esri.layers.support.TilemapCache");let x=w=class extends d.a{constructor(e){super(e),this._handles=new m.a,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=h.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new v.a(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],()=>this._initializeTilemapDefinition()),Object(b.a)(this,"layer.tileInfo.lods",e=>this._initializeAvailableLevels(e),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(_.error("Minimum levels for Tilemap is 3, but got ",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Object(u.h)(new o.a("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const n=this._tmpTilemapDefinition,s=this._tilemapFromCache(e,t,i,n);if(s)return Object(u.r)(s);const l=r&&r.signal;return r={...r,signal:null},Object(u.f)((e,t)=>{Object(u.o)(l,()=>t(Object(u.d)()));const i=j(n);let s=this._pendingTilemapRequests[i];if(!s){s=O.fromDefinition(n,r).then(e=>(this._tilemapCache.put(i,e,e.byteSize),e));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)})}getAvailability(e,t,i){if(!this._availableLevels[e])return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}getAvailabilityUpsample(e,t,i,r){r.level=e,r.row=t,r.col=i;const n=this.layer.tileInfo;for(n.updateTileInfo(r);;){const e=this.getAvailability(r.level,r.row,r.col);if("unavailable"!==e)return e;if(!n.upsampleTile(r))return"unavailable"}}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch(e=>e).then(r=>{if(r instanceof O){const n=r.getAvailability(t,i);return"unavailable"===n?Object(u.h)(new o.a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})):n}if(Object(u.b)(r))throw r;return"unknown"}):Object(u.h)(new o.a("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,n){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const l=this.fetchAvailability(e,t,i,n).catch(e=>{if(Object(u.b)(e))throw e;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e});return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,n,l),l}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,n,s){if(!this._prefetchingEnabled)return;const l="prefetch-"+e;if(this._handles.has(l))return;const a=Object(u.c)();s.then(()=>a.abort(),()=>a.abort());let o=!1;const c={remove(){o||(o=!0,a.abort())}};this._handles.add(c,l);try{await Object(f.c)(10,a.signal)}catch{}if(o||(o=!0,this._handles.remove(l)),Object(u.e)(a))return;const h={id:e,level:t,row:i,col:r},p={...n,signal:a.signal},d=this.layer.tileInfo;for(let e=0;w._prefetches.length<w._maxPrefetch&&d.upsampleTile(h);++e){const e=this.fetchAvailability(h.level,h.row,h.col,p);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?Object(c.B)(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const n=j(r);return this._tilemapCache.get(n)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach(e=>this._availableLevels[e.level]=!0)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};x._maxPrefetch=4,x._prefetches=new p.a({initialSize:w._maxPrefetch}),Object(r.a)([Object(s.b)({constructOnly:!0,type:Number})],x.prototype,"levels",void 0),Object(r.a)([Object(l.a)("levels")],x.prototype,"castLevels",null),Object(r.a)([Object(s.b)({readOnly:!0,dependsOn:["levels"],type:Number})],x.prototype,"size",null),Object(r.a)([Object(s.b)({constructOnly:!0,type:Number})],x.prototype,"cacheByteSize",void 0),Object(r.a)([Object(s.b)({constructOnly:!0})],x.prototype,"layer",void 0),Object(r.a)([Object(s.b)({constructOnly:!0})],x.prototype,"request",void 0),x=w=Object(r.a)([Object(a.a)("esri.layers.support.TilemapCache")],x)},371:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return n}));var r=i(165);const n={type:r.a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:s}}}}};function s(e,t,i,n){if(!e)return null;const{minScale:s,maxScale:l,minLOD:a,maxLOD:o}=t;if(null!=a&&null!=o)return n&&n.ignoreMinMaxLOD?r.a.fromJSON(e):r.a.fromJSON({...e,lods:e.lods.filter(({level:e})=>null!=e&&e>=a&&e<=o)});if(0!==s&&0!==l){const t=e=>Math.round(1e4*e)/1e4,i=s?t(s):1/0,n=l?t(l):-1/0;return r.a.fromJSON({...e,lods:e.lods.filter(e=>{const r=t(e.scale);return r<=i&&r>=n})})}return r.a.fromJSON(e)}},81:function(e,t,i){"use strict";var r,n=i(24),s=(i(3),i(20),i(7),i(9),i(26)),l=i(68),a=i(25),o=i(66),c=(i(4),i(41),i(42),i(65)),u=i(84);let h=r=class extends c.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return p}static get empty(){return f}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new r({end:this.end,start:this.start})}intersection(e){var t,i,n,s,l,a,o,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const u=null!=(t=null==(i=this.start)?void 0:i.getTime())?t:-1/0,h=null!=(n=null==(s=this.end)?void 0:s.getTime())?n:1/0,p=null!=(l=null==(a=e.start)?void 0:a.getTime())?l:-1/0,f=null!=(o=null==(c=e.end)?void 0:c.getTime())?o:1/0;let d,m;if(p>=u&&p<=h?d=p:u>=p&&u<=f&&(d=u),h>=p&&h<=f?m=h:f>=u&&f<=h&&(m=f),!isNaN(d)&&!isNaN(m)){const e=new r;return e.start=d===-1/0?null:new Date(d),e.end=m===1/0?null:new Date(m),e}return r.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:n,end:s}=this;return n&&(i.start=Object(u.b)(n,e,t)),s&&(i.end=Object(u.b)(s,e,t)),i}equals(e){if(!e)return!1;const t=this.start?this.start.getTime():this.start,i=this.end?this.end.getTime():this.end,r=e.start?e.start.getTime():e.start,n=e.end?e.end.getTime():e.end;return t===r&&i===n}};Object(n.a)([Object(s.b)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0),Object(n.a)([Object(l.a)("end")],h.prototype,"readEnd",null),Object(n.a)([Object(o.a)("end")],h.prototype,"writeEnd",null),Object(n.a)([Object(s.b)({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null),Object(n.a)([Object(s.b)({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],h.prototype,"isEmpty",null),Object(n.a)([Object(s.b)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0),Object(n.a)([Object(l.a)("start")],h.prototype,"readStart",null),Object(n.a)([Object(o.a)("start")],h.prototype,"writeStart",null),h=r=Object(n.a)([Object(a.a)("esri.TimeExtent")],h);const p=new h,f=new h({start:void 0,end:void 0});var d=h;t.a=d},84:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return s}));i(37);var r=i(67);const n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},s=Object(r.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function l(e,t,i){const r=new Date(e.getTime());if(t&&i){const e=n[i],{getter:s,setter:l,multiplier:a}=e;r[l](r[s]()+t*a)}return r}const a={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8}},92:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return b})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return f})),i.d(t,"g",(function(){return d})),i.d(t,"h",(function(){return h})),i.d(t,"i",(function(){return m}));var r=i(4),n=i(87);const s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function o(e){return!!l.test(e)}function c(e){const t=Object(r.H)(e),i=t.path.match(l)||t.path.match(a);if(!i)return null;const[,n,s,o,c]=i,h=s.indexOf("/");return{title:u(-1!==h?s.slice(h+1):s),serverType:o,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:n}}}function u(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(e,t){const i=[];if(e){const t=c(e);t&&t.title&&i.push(t.title)}if(t){const e=u(t);i.push(e)}if(2===i.length){if(-1!==i[0].toLowerCase().indexOf(i[1].toLowerCase()))return i[0];if(-1!==i[1].toLowerCase().indexOf(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function p(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),i=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&i}function f(e,t){return e?Object(r.F)(Object(r.E)(e,t)):e}function d(e,t,i){if(!t)return{url:t};t=Object(r.E)(t,i);const n=c(Object(r.H)(t).path);let s;return n&&null!=n.sublayer&&(null==e.layerId&&(s=n.sublayer),t=n.url.path),{url:Object(r.F)(t),layerId:s}}function m(e,t,i,s,l){Object(n.f)(t,s,"url",l),s.url&&null!=e.layerId&&(s.url=Object(r.w)(s.url,i,e.layerId.toString()))}function b(e){if(!e)return!1;const t=e.toLowerCase(),i=-1!==t.indexOf("/services/"),r=-1!==t.indexOf("/mapserver/wmsserver"),n=-1!==t.indexOf("/imageserver/wmsserver"),s=-1!==t.indexOf("/wmsserver");return i&&(r||n||s)}},97:function(e,t,i){"use strict";var r=i(24),n=i(2),s=i(26),l=i(25),a=i(30),o=i(74);let c=class extends a.a{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!o.a.isCollection(e))return this;const i=this._getOrCreateGroup(t);return Array.isArray(e)||o.a.isCollection(e)?e.forEach(e=>this._isHandle(e)&&i.push(e)):i.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach(t=>t.forEach(e));else{const i=this._getGroup(e);i&&t&&i.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||o.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let e=0;e<t.length;e++)t[e].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return Object(n.c)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};Object(r.a)([Object(s.b)({readOnly:!0})],c.prototype,"size",null),c=Object(r.a)([Object(l.a)("esri.core.Handles")],c);var u=c;t.a=u}});