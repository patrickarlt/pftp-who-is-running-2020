self.webpackChunkRemoteClient([44],{103:function(e,t,r){"use strict";r.d(t,"a",(function(){return R}));var i,o=r(24),n=(r(3),r(20),r(7),r(9)),s=r(26),a=r(75),l=r(67),c=r(69),u=r(68),p=r(38),b=r(25),d=(r(4),r(41),r(42),r(65)),y=r(107),j=r(133),h=r(71),O=r(134);r(72);let m=i=class extends d.a{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:r,oidFields:o,spatialReference:n,geometryType:s}=this,a={workspaceId:t,query:r,oidFields:o,spatialReference:null!=(e=null==n?void 0:n.clone())?e:void 0,geometryType:s};return new i(a)}};var f;Object(o.a)([Object(c.a)({queryTable:"query-table"})],m.prototype,"type",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],m.prototype,"workspaceId",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],m.prototype,"query",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],m.prototype,"oidFields",void 0),Object(o.a)([Object(s.b)({type:h.a,json:{write:!0}})],m.prototype,"spatialReference",void 0),Object(o.a)([Object(c.a)(O.a)],m.prototype,"geometryType",void 0),m=i=Object(o.a)([Object(b.a)("esri.layers.support.source.QueryTableDataSource")],m);let w=f=class extends d.a{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new f({workspaceId:e,dataSourceName:t})}};var v;Object(o.a)([Object(c.a)({raster:"raster"})],w.prototype,"type",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),w=f=Object(o.a)([Object(b.a)("esri.layers.support.source.RasterDataSource")],w);let g=v=class extends d.a{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new v({workspaceId:e,gdbVersion:t,dataSourceName:r})}};var S;Object(o.a)([Object(c.a)({table:"table"})],g.prototype,"type",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"gdbVersion",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"dataSourceName",void 0),g=v=Object(o.a)([Object(b.a)("esri.layers.support.source.TableDataSource")],g);const x=Object(l.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let T=S=class extends d.a{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return E()(e,t,r)}castLeftTableSource(e){return Object(n.k)(P(),e)}readRightTableSource(e,t,r){return E()(e,t,r)}castRightTableSource(e){return Object(n.k)(P(),e)}clone(){var e,t;const{leftTableKey:r,rightTableKey:i,leftTableSource:o,rightTableSource:n,joinType:s}=this,a={leftTableKey:r,rightTableKey:i,leftTableSource:null!=(e=null==o?void 0:o.clone())?e:void 0,rightTableSource:null!=(t=null==n?void 0:n.clone())?t:void 0,joinType:s};return new S(a)}};Object(o.a)([Object(c.a)({joinTable:"join-table"})],T.prototype,"type",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],T.prototype,"leftTableKey",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],T.prototype,"rightTableKey",void 0),Object(o.a)([Object(s.b)({json:{write:!0}})],T.prototype,"leftTableSource",void 0),Object(o.a)([Object(u.a)("leftTableSource")],T.prototype,"readLeftTableSource",null),Object(o.a)([Object(a.a)("leftTableSource")],T.prototype,"castLeftTableSource",null),Object(o.a)([Object(s.b)({json:{write:!0}})],T.prototype,"rightTableSource",void 0),Object(o.a)([Object(u.a)("rightTableSource")],T.prototype,"readRightTableSource",null),Object(o.a)([Object(a.a)("rightTableSource")],T.prototype,"castRightTableSource",null),Object(o.a)([Object(c.a)(x)],T.prototype,"joinType",void 0),T=S=Object(o.a)([Object(b.a)("esri.layers.support.source.JoinTableDataSource")],T);let F=null;function E(){return F||(F=Object(p.b)({types:P()})),F}let _=null;function P(){return _||(_={key:"type",base:null,typeMap:{"data-layer":R,"map-layer":j.a}}),_}var L;const C={key:"type",base:null,typeMap:{"join-table":T,"query-table":m,raster:w,table:g}};let R=L=class extends d.a{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new L({fields:e,dataSource:t})}};Object(o.a)([Object(c.a)({dataLayer:"data-layer"})],R.prototype,"type",void 0),Object(o.a)([Object(s.b)({type:[y.a],json:{write:!0}})],R.prototype,"fields",void 0),Object(o.a)([Object(s.b)({types:C,json:{write:!0}})],R.prototype,"dataSource",void 0),R=L=Object(o.a)([Object(b.a)("esri.layers.support.source.DataLayerSource")],R),R.from=Object(n.m)(R)},104:function(e,t,r){"use strict";function i(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function o(e){return e.toLowerCase().trim()}t.a=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const r of e){const e=r&&r.name;if(e){const n=o(e);this._fieldsMap.set(e,r),this._fieldsMap.set(n,r),t.push(n),i(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},108:function(e,t,r){"use strict";var i,o=r(24),n=(r(3),r(20),r(8)),s=(r(7),r(9)),a=r(26),l=r(75),c=r(67),u=r(25),p=r(66),b=(r(4),r(41),r(42),r(65)),d=r(71),y=r(73),j=r(72),h=r(86),O=r(81),m=r(103),f=r(132),w=r(126);const v=new c.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),g=new c.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let S=i=class extends b.a{constructor(e){super(e),this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.units=null,this.where=null}static from(e){return Object(s.d)(i,e)}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const t in e){const i=e[t];Array.isArray(i)?r[t]=i.map(e=>e instanceof Date?e.getTime():e):i instanceof Date?r[t]=i.getTime():r[t]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new i(Object(n.a)({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))}};S.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(o.a)([Object(a.b)({type:Boolean,json:{write:{writer:(e,t)=>{null!=e&&(t.cacheHint=e)}}}})],S.prototype,"cacheHint",void 0),Object(o.a)([Object(a.b)({json:{write:!0}})],S.prototype,"datumTransformation",void 0),Object(o.a)([Object(l.a)("datumTransformation")],S.prototype,"castDatumTransformation",null),Object(o.a)([Object(a.b)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],S.prototype,"distance",void 0),Object(o.a)([Object(a.b)({type:m.a,json:{write:!0}})],S.prototype,"dynamicDataSource",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],S.prototype,"gdbVersion",void 0),Object(o.a)([Object(a.b)({types:j.a,json:{read:y.a,write:!0}})],S.prototype,"geometry",void 0),Object(o.a)([Object(a.b)({type:Number,json:{write:!0}})],S.prototype,"geometryPrecision",void 0),Object(o.a)([Object(a.b)({type:[String],json:{write:!0}})],S.prototype,"groupByFieldsForStatistics",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],S.prototype,"having",void 0),Object(o.a)([Object(a.b)({type:Date})],S.prototype,"historicMoment",void 0),Object(o.a)([Object(p.a)("historicMoment")],S.prototype,"writeHistoricMoment",null),Object(o.a)([Object(a.b)({type:Number,json:{write:!0}})],S.prototype,"maxAllowableOffset",void 0),Object(o.a)([Object(a.b)({type:Number,cast:e=>e<1?1:e>i.MAX_MAX_RECORD_COUNT_FACTOR?i.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],S.prototype,"maxRecordCountFactor",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],S.prototype,"multipatchOption",void 0),Object(o.a)([Object(a.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],S.prototype,"num",void 0),Object(o.a)([Object(a.b)({type:[Number],json:{write:!0}})],S.prototype,"objectIds",void 0),Object(o.a)([Object(a.b)({type:[String],json:{write:!0}})],S.prototype,"orderByFields",void 0),Object(o.a)([Object(a.b)({type:[String],json:{write:!0}})],S.prototype,"outFields",void 0),Object(o.a)([Object(a.b)({type:d.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],S.prototype,"outSpatialReference",void 0),Object(o.a)([Object(a.b)({type:[w.a],json:{write:{enabled:!0,overridePolicy(){var e;return{enabled:(null==(e=this.outStatistics)?void 0:e.length)>0}}}}})],S.prototype,"outStatistics",void 0),Object(o.a)([Object(a.b)({json:{write:!0}})],S.prototype,"parameterValues",void 0),Object(o.a)([Object(p.a)("parameterValues")],S.prototype,"writeParameterValues",null),Object(o.a)([Object(a.b)({types:h.i,json:{write:!0}})],S.prototype,"pixelSize",void 0),Object(o.a)([Object(a.b)({type:f.a,json:{write:!0}})],S.prototype,"quantizationParameters",void 0),Object(o.a)([Object(a.b)({type:[Object],json:{write:!0}})],S.prototype,"rangeValues",void 0),Object(o.a)([Object(a.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],S.prototype,"relationParameter",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],S.prototype,"resultType",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnCentroid",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnDistinctValues",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:!e})}}})],S.prototype,"returnExceededLimitFeatures",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:!0}})],S.prototype,"returnGeometry",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnQueryGeometry",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnM",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnZ",void 0),Object(o.a)([Object(a.b)({type:String,json:{read:{source:"spatialRel",reader:v.read},write:{target:"spatialRel",writer:v.write}}})],S.prototype,"spatialRelationship",void 0),Object(o.a)([Object(a.b)({type:Number,json:{read:{source:"resultOffset"}}})],S.prototype,"start",void 0),Object(o.a)([Object(p.a)("start"),Object(p.a)("num")],S.prototype,"writeStart",null),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],S.prototype,"sqlFormat",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],S.prototype,"text",void 0),Object(o.a)([Object(a.b)({type:O.a,json:{write:!0}})],S.prototype,"timeExtent",void 0),Object(o.a)([Object(a.b)({type:String,json:{read:g.read,write:{writer:g.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],S.prototype,"units",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||this.start>0}}}}})],S.prototype,"where",void 0),Object(o.a)([Object(p.a)("where")],S.prototype,"writeWhere",null),S=i=Object(o.a)([Object(u.a)("esri.tasks.support.Query")],S);var x=S;t.a=x},120:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return l}));var i=r(44);const o=new RegExp("__begin__","ig"),n=new RegExp("__end__","ig"),s=new RegExp("^__begin__","i"),a=new RegExp("__end__$","i");function l(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function c(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function u(e){const t=c(e);if(!t)return null;switch(t.type){case"conventional":return b(t.expression);case"arcade":return t.expression}return null}function p(e){const t=c(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e.match(d);return t&&t[1].trim()||null}(t.expression);case"arcade":return O(t.expression)}return null}function b(e){let t;return e?(t=Object(i.c)(e,e=>'__begin__$feature["'+e+'"]__end__'),t=s.test(t)?t.replace(s,""):'"'+t,t=a.test(t)?t.replace(a,""):t+'"',t=t.replace(o,'" + ').replace(n,' + "')):t='""',t}const d=/^\s*\{([^}]+)\}\s*$/i;const y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,j=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,h=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function O(e){if(!e)return null;let t=y.exec(e)||j.exec(e);return t?t[1]||t[3]:(t=h.exec(e),t?t[2]:null)}},126:function(e,t,r){"use strict";var i,o=r(24),n=(r(3),r(20),r(8)),s=(r(7),r(9),r(26)),a=r(67),l=r(25),c=r(66),u=(r(4),r(41),r(42),r(65));const p=new a.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});let b=i=class extends u.a{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(n.a)(e))}clone(){return new i({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(n.a)(this.statisticParameters)})}};Object(o.a)([Object(s.b)({type:Number,json:{write:!0}})],b.prototype,"maxPointCount",void 0),Object(o.a)([Object(s.b)({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0),Object(o.a)([Object(s.b)({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0),Object(o.a)([Object(s.b)({type:String,json:{read:{source:"statisticType",reader:p.read},write:{target:"statisticType",writer:p.write}}})],b.prototype,"statisticType",void 0),Object(o.a)([Object(s.b)({type:Object})],b.prototype,"statisticParameters",void 0),Object(o.a)([Object(c.a)("statisticParameters")],b.prototype,"writeStatisticParameters",null),b=i=Object(o.a)([Object(l.a)("esri.tasks.support.StatisticDefinition")],b);var d=b;t.a=d},132:function(e,t,r){"use strict";var i,o=r(24),n=(r(3),r(20),r(8)),s=(r(7),r(9),r(26)),a=r(67),l=r(25),c=(r(4),r(41),r(42),r(65)),u=r(70);r(72);const p=new a.a({upperLeft:"upper-left",lowerLeft:"lower-left"});let b=i=class extends c.a{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new i(Object(n.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};Object(o.a)([Object(s.b)({type:u.a,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],b.prototype,"extent",void 0),Object(o.a)([Object(s.b)({type:["view","edit"],json:{write:!0}})],b.prototype,"mode",void 0),Object(o.a)([Object(s.b)({type:String,json:{read:p.read,write:p.write}})],b.prototype,"originPosition",void 0),Object(o.a)([Object(s.b)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],b.prototype,"tolerance",void 0),b=i=Object(o.a)([Object(l.a)("esri.tasks.support.QuantizationParameters")],b);var d=b;t.a=d},133:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i,o=r(24),n=(r(3),r(20),r(7),r(9)),s=r(26),a=r(69),l=r(25),c=(r(4),r(41),r(42),r(65));let u=i=class extends c.a{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new i({mapLayerId:e,gdbVersion:t})}};Object(o.a)([Object(a.a)({mapLayer:"map-layer"})],u.prototype,"type",void 0),Object(o.a)([Object(s.b)({type:n.a,json:{write:!0}})],u.prototype,"mapLayerId",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=i=Object(o.a)([Object(l.a)("esri.layers.support.source.MapLayerSource")],u)},135:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r(24),o=(r(3),r(20),r(7)),n=(r(9),r(26)),s=r(25),a=(r(4),r(41),r(42),r(92));const l=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=Object(a.e)(this.url);if(e&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",Object(a.f)(e,o.a.getLogger(this.declaredClass)))}};return Object(i.a)([Object(n.b)({dependsOn:["url"]})],t.prototype,"title",null),Object(i.a)([Object(n.b)({type:String})],t.prototype,"url",null),t=Object(i.a)([Object(s.a)("esri.layers.mixins.ArcGISService")],t),t}},148:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return c}));const i=[252,146,31,255],o={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},n={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},162:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return u}));r(37),r(2);var i=r(152),o=r(188),n=r(197),s=r(207),a=r(148);n.a.fromJSON(a.a),i.a.fromJSON(a.c),o.a.fromJSON(a.b);const l=s.a.fromJSON(a.d);const c=n.a.fromJSON(a.e),u=i.a.fromJSON(a.g),p=o.a.fromJSON(a.f)},168:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r(82),o=(r(116),r(157)),n=(r(166),r(185)),s=r(167),a=r(158),l=(r(159),r(150),r(131));const c=["oid","global-id"],u=["oid","global-id","guid"];function p({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:s},c){if(!r)return null;const u=O({editFieldsInfo:t,fields:r,objectIdField:n},c);if(!u.length)return null;const p=function(e){const t=Object(i.h)(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}({titleBase:s,fields:r,displayField:e}),b=[new a.a,new o.a];return new l.a({title:p,content:b,fieldInfos:u})}const b=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],d=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:i})=>i?i.has(e.name):!(j(e.name,t)||r&&e.name===r||c.indexOf(e.type)>-1||b.some(t=>t.test(e.name)));function y(e,t){return"oid"===e.type?-1:"oid"===t.type?1:f(e)?-1:f(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function j(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:i,editDateField:o,editorField:n}=t;return-1!==[r&&r.toLowerCase(),i&&i.toLowerCase(),o&&o.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())}function h(e,t){return e.editable&&-1===u.indexOf(e.type)&&!j(e.name,t)}function O({editFieldsInfo:e,fields:t,objectIdField:r},i){return function(e,t){const r=e;return t&&(e=e.filter(e=>-1===t.indexOf(e.type))),e===r&&(e=e.slice()),e.sort(y),e}(t,(null==i?void 0:i.ignoreFieldTypes)||w).map(t=>new s.a({fieldName:t.name,isEditable:h(t,e),label:t.alias,format:m(t),visible:d(t,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:null==i?void 0:i.visibleFieldNames})}))}function m(e){switch(e.type){case"small-integer":case"integer":case"single":return new n.a({digitSeparator:!0,places:0});case"double":return new n.a({digitSeparator:!0,places:2});case"date":return new n.a({dateFormat:"long-month-day-year"});default:return null}}function f(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}const w=["geometry","blob","raster","guid","xml"]},171:function(e,t,r){"use strict";var i=r(24),o=(r(3),r(20),r(8)),n=(r(7),r(9),r(26)),s=r(67),a=r(25),l=r(66),c=(r(4),r(41),r(42),r(65));const u=new s.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let p=class extends c.a{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=Object(o.c)(Object(o.a)(e),!0)}writeThumbnail(e,t){t.thumbnail=Object(o.c)(Object(o.a)(e))}};Object(i.a)([Object(n.b)({json:{write:!0}})],p.prototype,"name",void 0),Object(i.a)([Object(n.b)({json:{write:!0}})],p.prototype,"description",void 0),Object(i.a)([Object(n.b)({json:{read:u.read,write:u.write}})],p.prototype,"drawingTool",void 0),Object(i.a)([Object(l.a)("drawingTool")],p.prototype,"writeDrawingTool",null),Object(i.a)([Object(n.b)({json:{write:!0}})],p.prototype,"prototype",void 0),Object(i.a)([Object(l.a)("prototype")],p.prototype,"writePrototype",null),Object(i.a)([Object(n.b)({json:{write:!0}})],p.prototype,"thumbnail",void 0),Object(i.a)([Object(l.a)("thumbnail")],p.prototype,"writeThumbnail",null),p=Object(i.a)([Object(a.a)("esri.layers.support.FeatureTemplate")],p);var b=p;t.a=b},179:function(e,t,r){"use strict";var i,o=r(24),n=(r(3),r(20),r(8)),s=(r(7),r(9),r(26)),a=r(67),l=r(68),c=r(25),u=r(66),p=(r(4),r(41),r(42),r(65)),b=r(86),d=r(120);let y=i=class extends p.a{constructor(){super(...arguments),this.value=null,this.expression=null}readExpression(e,t){return t.value?Object(d.a)(t.value):e}writeExpression(e,t,r){null!=this.value&&(e=Object(d.a)(this.value)),t[r]=e}clone(){return new i({value:this.value,expression:this.expression})}};Object(o.a)([Object(s.b)({json:{read:!1,write:!1}})],y.prototype,"value",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:{allowNull:!0}}})],y.prototype,"expression",void 0),Object(o.a)([Object(l.a)("expression",["expression","value"])],y.prototype,"readExpression",null),Object(o.a)([Object(u.a)("expression")],y.prototype,"writeExpression",null),y=i=Object(o.a)([Object(c.a)("esri.layers.support.LabelExpressionInfo")],y);var j,h=y,O=r(162);const m=new a.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function f(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}let w=j=class extends p.a{constructor(e){super(e),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=O.a,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;const i=e.split(" ");if(3===i.length)return r(t[i[0]],i[1],i[2]);if(7===i.length){const e=r(t[i[0]],i[1],i[2]),o=i[3],n=r(t[i[4]],i[5],i[6]);switch(o){case"AND":return e&&n;case"OR":return e||n}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r,i){if(this.labelExpressionInfo&&(f(i)||i&&"service"===i.origin))if(null!=this.labelExpressionInfo.value)e=Object(d.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=Object(d.e)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(null==e&&null!=this.labelExpression&&f(i))e=new h({expression:this.getLabelExpressionArcade()});else if(!e)return;const o=e.toJSON(i);o.expression&&(t[r]=o)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Object(d.b)(this)}getLabelExpressionArcade(){return Object(d.c)(this)}getLabelExpressionSingleField(){return Object(d.d)(this)}hash(){return JSON.stringify(this)}clone(){return new j({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(n.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(n.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"name",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],w.prototype,"deconflictionStrategy",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:{allowNull:!0}}})],w.prototype,"labelExpression",void 0),Object(o.a)([Object(l.a)("labelExpression")],w.prototype,"readLabelExpression",null),Object(o.a)([Object(u.a)("labelExpression")],w.prototype,"writeLabelExpression",null),Object(o.a)([Object(s.b)({type:h,json:{write:{overridePolicy:(e,t,r)=>f(r)?{allowNull:!0}:{enabled:!1}}}})],w.prototype,"labelExpressionInfo",void 0),Object(o.a)([Object(u.a)("labelExpressionInfo")],w.prototype,"writeLabelExpressionInfo",null),Object(o.a)([Object(s.b)({type:m.apiValues,json:{type:m.jsonValues,read:m.read,write:m.write}})],w.prototype,"labelPlacement",void 0),Object(o.a)([Object(s.b)({type:Number})],w.prototype,"maxScale",void 0),Object(o.a)([Object(u.a)("maxScale")],w.prototype,"writeMaxScale",null),Object(o.a)([Object(s.b)({type:Number})],w.prototype,"minScale",void 0),Object(o.a)([Object(u.a)("minScale")],w.prototype,"writeMinScale",null),Object(o.a)([Object(s.b)({types:b.d,json:{origins:{"web-scene":{types:b.g,write:b.j,default:null}},write:b.j,default:null}})],w.prototype,"symbol",void 0),Object(o.a)([Object(s.b)({type:Boolean,json:{write:!0}})],w.prototype,"useCodedValues",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"where",void 0),w=j=Object(o.a)([Object(c.a)("esri.layers.support.LabelClass")],w);var v=w;t.a=v},214:function(e,t,r){"use strict";var i=r(24),o=(r(3),r(20),r(8)),n=(r(7),r(9),r(26)),s=r(68),a=r(25),l=r(66),c=(r(4),r(41),r(42),r(65)),u=r(128),p=r(123),b=r(124),d=(r(149),r(171));let y=class extends c.a{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(i.type){case"range":t[r]=b.a.fromJSON(i);break;case"codedValue":t[r]=u.a.fromJSON(i);break;case"inherited":t[r]=p.a.fromJSON(i)}}return t}writeDomains(e,t){const r={};for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t]&&e[t].toJSON());Object(o.c)(r),t.domains=r}readTemplates(e){return e&&e.map(e=>new d.a(e))}writeTemplates(e,t){t.templates=e&&e.map(e=>e.toJSON())}};Object(i.a)([Object(n.b)({json:{write:!0}})],y.prototype,"id",void 0),Object(i.a)([Object(n.b)({json:{write:!0}})],y.prototype,"name",void 0),Object(i.a)([Object(n.b)({json:{write:!0}})],y.prototype,"domains",void 0),Object(i.a)([Object(s.a)("domains")],y.prototype,"readDomains",null),Object(i.a)([Object(l.a)("domains")],y.prototype,"writeDomains",null),Object(i.a)([Object(n.b)({json:{write:!0}})],y.prototype,"templates",void 0),Object(i.a)([Object(s.a)("templates")],y.prototype,"readTemplates",null),Object(i.a)([Object(l.a)("templates")],y.prototype,"writeTemplates",null),y=Object(i.a)([Object(a.a)("esri.layers.support.FeatureType")],y);var j=y;t.a=j},81:function(e,t,r){"use strict";var i,o=r(24),n=(r(3),r(20),r(7),r(9),r(26)),s=r(68),a=r(25),l=r(66),c=(r(4),r(41),r(42),r(65)),u=r(84);let p=i=class extends c.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return b}static get empty(){return d}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(i.allTime)}get isEmpty(){return this.equals(i.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new i({end:this.end,start:this.start})}intersection(e){var t,r,o,n,s,a,l,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return i.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const u=null!=(t=null==(r=this.start)?void 0:r.getTime())?t:-1/0,p=null!=(o=null==(n=this.end)?void 0:n.getTime())?o:1/0,b=null!=(s=null==(a=e.start)?void 0:a.getTime())?s:-1/0,d=null!=(l=null==(c=e.end)?void 0:c.getTime())?l:1/0;let y,j;if(b>=u&&b<=p?y=b:u>=b&&u<=d&&(y=u),p>=b&&p<=d?j=p:d>=u&&d<=p&&(j=d),!isNaN(y)&&!isNaN(j)){const e=new i;return e.start=y===-1/0?null:new Date(y),e.end=j===1/0?null:new Date(j),e}return i.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new i,{start:o,end:n}=this;return o&&(r.start=Object(u.b)(o,e,t)),n&&(r.end=Object(u.b)(n,e,t)),r}equals(e){if(!e)return!1;const t=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,i=e.start?e.start.getTime():e.start,o=e.end?e.end.getTime():e.end;return t===i&&r===o}};Object(o.a)([Object(n.b)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),Object(o.a)([Object(s.a)("end")],p.prototype,"readEnd",null),Object(o.a)([Object(l.a)("end")],p.prototype,"writeEnd",null),Object(o.a)([Object(n.b)({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),Object(o.a)([Object(n.b)({dependsOn:["start","end"],readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),Object(o.a)([Object(n.b)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),Object(o.a)([Object(s.a)("start")],p.prototype,"readStart",null),Object(o.a)([Object(l.a)("start")],p.prototype,"writeStart",null),p=i=Object(o.a)([Object(a.a)("esri.TimeExtent")],p);const b=new p,d=new p({start:void 0,end:void 0});var y=p;t.a=y},84:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n}));r(37);var i=r(67);const o={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},n=Object(i.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function s(e,t,r){const i=new Date(e.getTime());if(t&&r){const e=o[r],{getter:n,setter:s,multiplier:a}=e;i[s](i[n]()+t*a)}return i}const a={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8}},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return p})),r.d(t,"i",(function(){return j}));var i=r(4),o=r(87);const n=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${n.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${n.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function l(e){return!!s.test(e)}function c(e){const t=Object(i.H)(e),r=t.path.match(s)||t.path.match(a);if(!r)return null;const[,o,n,l,c]=r,p=n.indexOf("/");return{title:u(-1!==p?n.slice(p+1):n),serverType:l,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:o}}}function u(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function p(e,t){const r=[];if(e){const t=c(e);t&&t.title&&r.push(t.title)}if(t){const e=u(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function b(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function d(e,t){return e?Object(i.F)(Object(i.E)(e,t)):e}function y(e,t,r){if(!t)return{url:t};t=Object(i.E)(t,r);const o=c(Object(i.H)(t).path);let n;return o&&null!=o.sublayer&&(null==e.layerId&&(n=o.sublayer),t=o.url.path),{url:Object(i.F)(t),layerId:n}}function j(e,t,r,n,s){Object(o.f)(t,n,"url",s),n.url&&null!=e.layerId&&(n.url=Object(i.w)(n.url,r,e.layerId.toString()))}function h(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),i=-1!==t.indexOf("/mapserver/wmsserver"),o=-1!==t.indexOf("/imageserver/wmsserver"),n=-1!==t.indexOf("/wmsserver");return r&&(i||o||n)}},97:function(e,t,r){"use strict";var i=r(24),o=r(2),n=r(26),s=r(25),a=r(30),l=r(74);let c=class extends a.a{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!l.a.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||l.a.isCollection(e)?e.forEach(e=>this._isHandle(e)&&r.push(e)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach(t=>t.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||l.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let e=0;e<t.length;e++)t[e].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return Object(o.c)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};Object(i.a)([Object(n.b)({readOnly:!0})],c.prototype,"size",null),c=Object(i.a)([Object(s.a)("esri.core.Handles")],c);var u=c;t.a=u}});