var RemoteClient=function(e){self.webpackChunkRemoteClient=function(t,n){for(var o in n)e[o]=n[o];for(;t.length;)r[t.pop()]=1};var t={},r={30:1};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.e=function(e){var t=[];return t.push(Promise.resolve().then((function(){r[e]||importScripts(n.p+"_chunks/"+{0:"b55eaef6815703739443",1:"45473442a108c2104158",2:"e8a84de4c82d62e21025",3:"561ccb4680543c26d578",4:"21264218aad4b7f12d78",5:"57dcbeff9535b343990f",6:"df5044b40c97a415a399",7:"18faeebff046dbbee9a4",8:"adf0199fb16233c4beba",9:"dbcb34ed350af6f6d6d2",10:"7b54af4b29f1a833020d",11:"f79fac36ee02df7181f7",12:"7ff794e19b7bca40e8b1",13:"853270cec0cf3547326c",14:"ec448022388d19bc790f",15:"c9c637f8e053b4df80bb",16:"4f257cdddc667052991a",17:"af7b8e98839ccd6cc314",18:"c1e5971c4b0e47cf00a8",19:"bf4f5286a2c2bb02afd9",20:"2e5fbae41bac8ec10dc5",21:"ff0bae319bcfc903b69e",22:"1b14f170287184302600",23:"954aa4b710161a544ea9",24:"a214231332f546f3377d",25:"a9d99ad8b5e032a17b73",26:"8aa8d4aee7debd18d0a0",27:"1927b8b2b83b1ddcc1d3",28:"4b26947e5ccb51c8902b",29:"e3fc77f28a7e84a446dd",31:"4985003f9e8454748920",32:"2e01bfcb1f6d1c6a6d46",33:"1c1bc16886c071623f2c",34:"2cedf3a84d8e3d3936ff",35:"5acc96b128c9fca154c7",36:"b9a3ef3f00f8848031bf",37:"6a7334a4f645b7027ff3",38:"cef69d2f2ca505732e04",39:"f645e0e70ca209739e33",40:"2af182b4ecc88b510adf",41:"a4ebf8cec74154d4ce39",42:"d51f755ec26851b8ab8d",43:"5f72228c5582608042b2",44:"cc3c217392fa2d3e5740",45:"3420af0866d90fcc293c",46:"a177d2c7d2b10705fb9d",47:"18f657cd3c0b1a154641",48:"6e5706bcc7abc4615ae8",49:"5d8ef6346cb625cc9a61",50:"8a83c3b3bf10bb1ea2b3",51:"d212292f58a1775e55f9",52:"4116f93bd0ab583e7c61",53:"61858a5f118c67fda202",54:"fe0fb63560e732c650b2",55:"259a9d99d1e6c198595f",56:"3fde6614c9321fb674d8",57:"62945a24dbe2bc17ed87",58:"6474c1867f492e2420a6",59:"fb9a4021c5aa8a2cc8ed",60:"ef7bb5d5bd7f66e603af",61:"fd6579f371ed8bb09269",62:"e0fb26ddfbad83e16e09",63:"7225f3e6d1eea34695ed",64:"043ad0b8a88927d93714",65:"0cd504cbd030f4a45859",66:"9a14d41b95051ff67674",67:"27bfa4758ff9b99a15d4",68:"09ce28972f1c87993cb2",69:"b79a88ce36ee6eafade4",70:"52ecf29e0214553279ee",71:"ad4cec5f188be054faf5",72:"32da25d782f1bb01b384",73:"108b4bfc82b46fc47cb6",74:"3c9a79c083d3efafc684",75:"fd02e439e231b07c5aec",76:"141e272a7df51bbd7bd9",77:"9b4bc2357290e09d3791",78:"ac24d0747dec8a6e7559",79:"91136129b5371cd8fae4",80:"5a236f6b6c63ecdd4cb6",81:"3c6c809f02ed425d0fd4",82:"4176f8390121dfeb5a93",83:"2e0edda7693fad39227a",84:"e714dcd4fb26a2f35ce1",85:"8c3c7f87bce741c34c2a",86:"822d73b507645704c5e0",87:"891ca812d43bfb8ba8fe",88:"57bd6946ae86a2d6989f",89:"b5aa46228861b8079b92",90:"d461c41337029ce9c90b",91:"e0e19be6f6f26bf91225",92:"7eabf457e37973da98ec",93:"e767afdcd5f05dd1925d",94:"8312dbcb54e8e809f6b3",95:"c9e1e8cfc56a06c0d527",96:"f5d1831afd60a97e2b3a",97:"1b82b588484bdd0502ca",98:"f134480290e05e544927",99:"904a365c040fe10912fa",100:"28f52c59012f5d7ac39f",101:"3c0f1258578d40b41fc8",102:"8923560296e0bb8acd80",103:"04f707dd45e253c045f6",104:"ce29b7e1393aca049d9a",105:"f9d18dfd9d0db348faa9",106:"515e8f717b0e94f9ca6c",107:"76e2a812773b9bf98aaf",108:"0be3152b1e67d0e33a4d",109:"598d0bb5198f0c6280e4",110:"1da5a1f9d6f2c93621b3",111:"1d51dab1a87a887164a7",112:"3c1d47fa043dc2eb1879",113:"dbc5ddc05dde08b1fed1",114:"c2d5ffbe5777468cab0c",115:"e6eb0a5df56eac788c3e",116:"27ddd81c385b2f26ca89",117:"51b94c16d841ce0f40cf",118:"91f55376277c8bbb3fdc",119:"9be0f1ffe6aa5862143f",120:"105167c73a14663ac717",121:"32c7e57c0ed2a0d1f256",122:"1493cbe194dc459957e8",123:"f33cc5a6b1643e2b2445",124:"cc003169f58d6dc625d6",125:"b1c629a80de2b830c9b3",126:"71e9746ef61e6435a381",127:"f62e8cc7496e74b97e05",128:"2c2322880ab7fb8ebeb0",129:"765ac179d9c6ab3f4c1a",130:"607385d8b17041d78ca3",131:"cccf356ca5ba369dbbbd",132:"f8d4ab9deefd2f256f3a",133:"bd80f05be41c5932b977",134:"2cc1fc2182063a6e56d8",135:"ffe1af1608c436f5eaf2",136:"c302f0d0e63fb6074905",137:"0bb28edf3fa32afc863e",138:"54386a3b4eae1c308308",139:"0fc31c17b978e6347164",140:"fd5882fb9b7d22e86949",141:"d4f2008374c617a3c9bd",142:"f1236e829d931ede5574",143:"235fee385713780194bb",144:"ab825be9ed56ad3fa863",145:"5ed9edbbfe6e97820cfe",146:"c6b758e6d9bdf51b5731",147:"73f31096e0d49d056bdb",148:"a6de554cea0a43819346",149:"9ce733653f52d7f4a949",150:"1b7c6d6e1341f16bbb8b",151:"febd844e9ca5e384a426",152:"f806ac48f99691c424ce",153:"a394feed8c2598feb34f",154:"c1825706046fb752e074",155:"17146a1499fc9f9af923",156:"b882edb4228f0c31e3f8",157:"a243e40c42b2ffea8d80",158:"3c99618e2f831cb74593",159:"f874fb36f63dbad197dc",160:"52b2c5e4091c43034feb",161:"c73b31d8cd8df49df776",162:"f6b03087a9b12c99f1e9",163:"e37563126364d4339181",164:"ef42b40002a9efecb6dd",165:"79712d8f182a714d6cbc",166:"9e2da0d949be6dbe43a8",167:"e3c4a90257a1f5d95634",168:"742c625763718db370b8",169:"493dcdbd13709dad37e2",170:"ccd8dcd06485016f4c3e",171:"d64836b1351041f5d2a1",172:"2a45c1e3ddeddc96a084",173:"f6b6f05f31f51270ee4d",174:"608cca7eedae64e75de7",175:"cff641da0660b23a2f21",176:"644ed7dd9f2a17a630a7",177:"59dbea62ce90d3e34cac",178:"fabc239417e0c0a9a14c",179:"2571d969e650e0589da9",180:"ef3c766a2969d4f9e659",181:"19baf39634553a4514e4",182:"390636dd2aff7559ba42",183:"3c60e17a23e264a1d172",184:"ad17c9a90968ae9c1ae6",185:"1e4379e6aeb0cb5d4ab4",186:"e3107ffaca4b942c8d9c",187:"ea2307b436b1a1cf593a",188:"8634863fac15aa50d6d8",189:"c01e724a5d5c07a16f85",190:"eb20fc9c34ccaf98a31d",191:"1816cdab6838150132f3",192:"8ee82afa5f85ec6552d1",193:"f289c1c064b2033e3bd5",194:"b9ca5cc6b14322202f19",195:"b6cdb7eb557e532896ca",196:"4e450e0c05397b83abc9",197:"1367a139d5c7ab702d39",198:"4a19846db4f93c2de97b",199:"6633816100e5e74fa343",200:"967eb9b487bca26749fa",201:"16e093a9384dd1365cbd",202:"6322ed02a51a2b96e244",203:"d27e7e63500cb344c7e2",204:"879a2e90f318121826ea",205:"ad13cd2ca877daba4b7d",206:"1f0e3b4019841b94d59d",207:"36d366f6c406a6dcb8c9"}[e]+".js")}))),Promise.all(t)},n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=59)}([function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return d}));const o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0,i={},s={},{staticFeatures:a}=o.DojoHasEnvironment||{};"DojoHasEnvironment"in o&&delete o.DojoHasEnvironment;const c=a?"function"==typeof a?a.apply(o):a:{};function u(e,t,r=!1){const n=e.toLowerCase();if(function(e){const t=e.toLowerCase();return Boolean(t in c||t in i||s[t])}(n)&&!r&&!(n in c))throw new TypeError(`Feature "${e}" exists and overwrite not true.`);"function"==typeof t?s[n]=t:(i[n]=t,delete s[n])}function l(e){let t;const r=e.toLowerCase();if(r in c)t=c[r];else if(s[r])t=i[r]=s[r].call(null),delete s[r];else{if(!(r in i))throw new TypeError(`Attempt to detect unregistered has feature "${e}"`);t=i[r]}return t}function f(e,t=!1,r=!0,n=!0){return{value:e,enumerable:t,writable:r,configurable:n}}function d(e){return function(t,...r){return e.apply(t,r)}}u("public-path",void 0),u("dojo-debug",!1),u("host-browser","undefined"!=typeof document&&"undefined"!=typeof location),u("host-node",(function(){if("object"==typeof n&&n.versions&&n.versions.node)return n.versions.node})),u("fetch","fetch"in o&&"function"==typeof o.fetch,!0),u("es6-array",()=>["from","of"].every(e=>e in o.Array)&&["findIndex","find","copyWithin"].every(e=>e in o.Array.prototype),!0),u("es6-array-fill",()=>"fill"in o.Array.prototype&&1===[1].fill(9,Number.POSITIVE_INFINITY)[0],!0),u("es7-array",()=>"includes"in o.Array.prototype,!0),u("es6-map",()=>{if("function"==typeof o.Map)try{const e=new o.Map([[0,1]]);return e.has(0)&&"function"==typeof e.keys&&l("es6-symbol")&&"function"==typeof e.values&&"function"==typeof e.entries}catch(e){return!1}return!1},!0),u("es6-math",()=>["clz32","sign","log10","log2","log1p","expm1","cosh","sinh","tanh","acosh","asinh","atanh","trunc","fround","cbrt","hypot"].every(e=>"function"==typeof o.Math[e]),!0),u("es6-math-imul",()=>"imul"in o.Math&&-5===Math.imul(4294967295,5),!0),u("es6-object",()=>l("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(e=>"function"==typeof o.Object[e]),!0),u("es2017-object",()=>["values","entries","getOwnPropertyDescriptors"].every(e=>"function"==typeof o.Object[e]),!0),u("es-observable",()=>void 0!==o.Observable,!0),u("es6-promise",()=>void 0!==o.Promise&&l("es6-symbol"),!0),u("es2018-promise-finally",()=>l("es6-promise")&&void 0!==o.Promise.prototype.finally,!0),u("es6-set",()=>{if("function"==typeof o.Set){const e=new o.Set([1]);return e.has(1)&&"keys"in e&&"function"==typeof e.keys&&l("es6-symbol")}return!1},!0),u("es6-string",()=>["fromCodePoint"].every(e=>"function"==typeof o.String[e])&&["codePointAt","normalize","repeat","startsWith","endsWith","includes"].every(e=>"function"==typeof o.String.prototype[e]),!0),u("es6-string-raw",()=>{if("raw"in o.String){let e=(function(e,...t){const r=[...e];return r.raw=e.raw,r})`a\n${1}`;return e.raw=["a\\n"],"a\\n"===o.String.raw(e,42)}return!1},!0),u("es2017-string",()=>["padStart","padEnd"].every(e=>"function"==typeof o.String.prototype[e]),!0),u("es6-symbol",()=>void 0!==o.Symbol&&"symbol"==typeof Symbol(),!0),u("es6-weakmap",()=>{if(void 0!==o.WeakMap){const e={},t={},r=new o.WeakMap([[e,1]]);return Object.freeze(e),1===r.get(e)&&r.set(t,2)===r&&l("es6-symbol")}return!1},!0),u("microtasks",()=>l("es6-promise")||l("host-node")||l("dom-mutationobserver"),!0),u("postmessage",()=>void 0!==o.window&&"function"==typeof o.postMessage,!0),u("raf",()=>"function"==typeof o.requestAnimationFrame,!0),u("setimmediate",()=>void 0!==o.setImmediate,!0),u("dom-mutationobserver",()=>{if(l("host-browser")&&Boolean(o.MutationObserver||o.WebKitMutationObserver)){const e=document.createElement("div"),t=new(o.MutationObserver||o.WebKitMutationObserver)((function(){}));return t.observe(e,{attributes:!0}),e.style.setProperty("display","block"),Boolean(t.takeRecords().length)}return!1},!0),u("dom-webanimation",()=>l("host-browser")&&void 0!==o.Animation&&void 0!==o.KeyframeEffect,!0),u("abort-controller",()=>void 0!==o.AbortController),u("abort-signal",()=>void 0!==o.AbortSignal),u("dom-intersection-observer",()=>l("host-browser")&&void 0!==o.IntersectionObserver,!0),u("dom-resize-observer",()=>l("host-browser")&&void 0!==o.ResizeObserver,!0),u("dom-pointer-events",()=>l("host-browser")&&void 0!==o.onpointerdown,!0),u("build-elide",!1)}).call(this,r(32),r(52))},function(e,t,r){"use strict";(function(e){const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0;t.a=r}).call(this,r(32))},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return g})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return o})),r.d(t,"h",(function(){return n})),r.d(t,"i",(function(){return i})),r.d(t,"j",(function(){return f})),r.d(t,"k",(function(){return h})),r.d(t,"l",(function(){return l})),r.d(t,"m",(function(){return a})),r.d(t,"n",(function(){return c}));function n(e){return null!=e}function o(e){return null==e}function i(e){return void 0===e}function s(e,t){return n(e)?t(e):null}function a(e){return e}function c(e,t){return n(e)?e:"function"==typeof t?t():t}function u(e){return n(e)&&e.destroy(),null}function l(e){return null}function f(e,t){const r=new Array;for(const n of e)r.push(h(n,null,t));return r}function d(e,t){for(const r of e)h(r,null,t)}function h(e,t,r){return n(e)?r(e):t}function p(e,t){return n(e)?t(e):null}function b(e,...t){let r=e,n=0;for(;n<t.length&&r;)r=r[t[n++]];return r}function g(e){return e}},function(e,t,r){"use strict";var n=r(1);function o(e,t={},r){let n;switch(r){case"webgl":n=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":n=["webgl2"];break;default:n=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}let o=null;for(const r of n){try{o=e.getContext(r,t)}catch(e){}if(o)break}return o}var i,s;let a;var c,u;function l(e){return"function"==typeof a[e]?a[e]=a[e](n.a):a[e]}a=(null==(i=n.a.dojoConfig)?void 0:i.has)||(null==(s=n.a.esriConfig)?void 0:s.has)?{...null==(c=n.a.dojoConfig)?void 0:c.has,...null==(u=n.a.esriConfig)?void 0:u.has}:{},l.add=(e,t,r,n)=>((n||void 0===a[e])&&(a[e]=t),r&&l(e)),l.cache=a,(()=>{l.add("host-webworker",void 0!==n.a.WorkerGlobalScope&&self instanceof n.a.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(l.add("host-browser",e),l.add("host-node","object"==typeof n.a.process&&n.a.process.versions&&n.a.process.versions.node&&n.a.process.versions.v8),l.add("dom",e),l("host-browser")){const e=navigator,t=e.userAgent,r=e.appVersion,n=parseFloat(r);if(l.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),l.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),l.add("khtml",r.indexOf("Konqueror")>=0?n:void 0),l.add("edge",parseFloat(t.split("Edge/")[1])||void 0),l.add("opr",parseFloat(t.split("OPR/")[1])||void 0),l.add("webkit",!l("wp")&&!l("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),l.add("chrome",!l("edge")&&!l("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),l.add("android",!l("wp")&&parseFloat(t.split("Android ")[1])||void 0),l.add("safari",!(r.indexOf("Safari")>=0)||l("wp")||l("chrome")||l("android")||l("edge")||l("opr")?void 0:parseFloat(r.split("Version/")[1])),l.add("mac",r.indexOf("Macintosh")>=0),l.add("quirks","BackCompat"===document.compatMode),!l("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),r=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",n=parseFloat(r.replace(/_/,".").replace(/_/g,""));l.add(e,n),l.add("ios",n)}l.add("trident",parseFloat(r.split("Trident/")[1])||void 0),l.add("svg","undefined"!=typeof SVGAngle),l("webkit")||(t.indexOf("Opera")>=0&&l.add("opera",n>=9.8&&parseFloat(t.split("Version/")[1])||n),!(t.indexOf("Gecko")>=0)||l("wp")||l("khtml")||l("trident")||l("edge")||l.add("mozilla",n),l("mozilla")&&l.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),l.add("esri-debug-messages",!1),l.add("esri-deprecation-warnings",!0),(()=>{if(n.a.navigator){const e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=e.match(/iPhone/i);t&&l.add("esri-mobile",t),r&&l.add("esri-iPhone",r),l.add("esri-geolocation",!!navigator.geolocation)}l.add("esri-canvas-svg-support",!l("trident")),l.add("esri-secure-context",()=>"isSecureContext"in n.a?n.a.isSecureContext:n.a.location&&n.a.location.origin?0===n.a.location.origin.indexOf("https:"):void 0),l.add("esri-wasm","WebAssembly"in n.a),l.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in n.a,t=!1===n.a.crossOriginIsolated;return e&&!t}),l.add("esri-atomics","Atomics"in n.a),l.add("esri-workers","Worker"in n.a),l.add("esri-text-decoder","TextDecoder"in n.a),l.add("esri-text-encoder","TextEncoder"in n.a),l.add("featurelayer-advanced-symbols",!1),l.add("featurelayer-pbf",!1),l.add("feature-layers-workers",!0),l.add("mapview-transitions-duration",200),l("host-webworker")||(l.add("esri-abortable-fetch","fetch"in n.a&&(!l("host-browser")||"signal"in new Request("https://www.arcgis.com"))),l("host-browser")&&(l.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),l.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{l.add("esri-image-decode",!0,!0,!0)}).catch(()=>{l.add("esri-image-decode",!1,!0,!0)})}return!1}),l.add("esri-url-encodes-apostrophe",()=>{const e=n.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1}),l.add("esri-webgl",()=>d().available),l.add("esri-webgl-high-precision-fragment",()=>d().supportsHighPrecisionFragment),l.add("esri-webgl-vertex-shader-samplers",()=>d().supportsVertexShaderSamplers),l.add("esri-webgl-element-index-uint",()=>d().supportsElementIndexUint),l.add("esri-webgl-standard-derivatives",()=>d().supportsStandardDerivatives),l.add("esri-webgl-texture-float",()=>d().supportsTextureFloat),l.add("esri-webgl-color-buffer-float",()=>d().supportsColorBufferFloat),l.add("esri-webgl-instanced-arrays",()=>d().supportsInstancedArrays),l.add("esri-webgl-major-performance-caveat",()=>d().majorPerformanceCaveat),l.add("esri-featurelayer-webgl",!0),l.add("esri-featurelayer-webgl-labeling",!0),l.add("esri-webgl2",()=>function(){if(h)return h;if(h={available:!1,version:0},void 0===typeof WebGL2RenderingContext)return h;const e=document.createElement("canvas");if(!e)return h;const t=o(e,{},"webgl2");if(!t)return h;h.available=!0;const r=t.getParameter(t.VERSION);if(!r)return h;const n=r.match(/^WebGL\s+([\d.]*)/);return n&&(h.version=parseFloat(n[1])),h}().available),l.add("esri-webgl-max-texture-size",()=>d().maxTextureSize)))})();let f=null;function d(){if(f)return f;if(f={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0},void 0===typeof WebGLRenderingContext)return f;const e=document.createElement("canvas");if(!e)return f;let t=o(e,{failIfMajorPerformanceCaveat:!0},"webgl");if(t||(t=o(e,{},"webgl"),t&&(f.majorPerformanceCaveat=!0)),!t)return f;const r=t.getParameter(t.VERSION);if(!r)return f;const n=r.match(/^WebGL\s+([\d.]*)/);if(n){f.version=parseFloat(n[1]),f.available=f.version>=.94;const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(f.supportsHighPrecisionFragment=e.precision>0),f.supportsVertexShaderSamplers=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,f.supportsElementIndexUint=null!==t.getExtension("OES_element_index_uint"),f.supportsStandardDerivatives=null!==t.getExtension("OES_standard_derivatives"),f.supportsInstancedArrays=null!==t.getExtension("ANGLE_instanced_arrays"),f.supportsTextureFloat=null!==t.getExtension("OES_texture_float"),f.supportsColorBufferFloat=null!==t.getExtension("WEBGL_color_buffer_float")}return f.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),f}let h=null;t.a=l},function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return C})),r.d(t,"d",(function(){return ce})),r.d(t,"e",(function(){return ue})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return v})),r.d(t,"h",(function(){return ie})),r.d(t,"i",(function(){return Y})),r.d(t,"j",(function(){return J})),r.d(t,"k",(function(){return N})),r.d(t,"l",(function(){return G})),r.d(t,"m",(function(){return le})),r.d(t,"n",(function(){return R})),r.d(t,"o",(function(){return A})),r.d(t,"p",(function(){return U})),r.d(t,"q",(function(){return M})),r.d(t,"r",(function(){return z})),r.d(t,"s",(function(){return H})),r.d(t,"t",(function(){return V})),r.d(t,"u",(function(){return X})),r.d(t,"v",(function(){return F})),r.d(t,"w",(function(){return W})),r.d(t,"x",(function(){return D})),r.d(t,"y",(function(){return K})),r.d(t,"z",(function(){return $})),r.d(t,"A",(function(){return B})),r.d(t,"B",(function(){return S})),r.d(t,"C",(function(){return E})),r.d(t,"D",(function(){return ne})),r.d(t,"E",(function(){return ae})),r.d(t,"F",(function(){return oe})),r.d(t,"G",(function(){return ee})),r.d(t,"H",(function(){return j}));r(1);var n=r(11),o=r(19),i=r(2),s=r(7),a=r(10);const c=s.a.getLogger("esri.core.urlUtils"),u=o.a.request,l="esri/config: esriConfig.request.proxyUrl is not set.",f=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,d=/^\s*http:/i,h=/^\s*https:/i,p=/^\s*file:/i,b=/:\d+$/,g=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,m=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),y=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class _{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=Object(i.c)(this.uri.match(m));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=Object(i.c)(this.authority.match(y)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const v=new _(o.a.applicationUrl),O={},w=(()=>{const e=Object(i.c)(v.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${v.scheme}://${v.host}${null!=v.port?":"+v.port:""}${t}`})();function j(e){const t={path:null,query:null},r=new _(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,n),t.query=E(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function E(e){const t=e.split("&"),r={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let n,o;t<0?(n=decodeURIComponent(e),o=""):(n=decodeURIComponent(e.slice(0,t)),o=decodeURIComponent(e.slice(t+1)));let i=r[n];"string"==typeof i&&(i=r[n]=[i]),Array.isArray(i)?i.push(o):r[n]=o}return r}function T(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function S(e,t){return e?t&&"function"==typeof t?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(null==n)return"";const o=encodeURIComponent(r)+"=",i=t&&t[r];return i?o+encodeURIComponent(i(n)):Array.isArray(n)?n.map(e=>T(e)?o+encodeURIComponent(JSON.stringify(e)):o+encodeURIComponent(e)).join("&"):T(n)?o+encodeURIComponent(JSON.stringify(n)):o+encodeURIComponent(n)}).filter(e=>e).join("&"):""}function A(e=!1){let t,r=u.proxyUrl;if("string"==typeof e){n=e,t=h.test(n)||"https"===v.scheme&&X(n);const o=R(e);o&&(r=o.proxyUrl)}else t=!!e;var n;if(!r)throw c.warn(l),new a.a("urlutils:proxy-not-set",l);return t&&te()&&(r=ee(r)),j(r)}function k(e){const t=R(e);let r,n=void 0;if(t){const e=P(t.proxyUrl);n=e.path,r=e.query?E(e.query):null}if(n){const t=j(e);e=n+"?"+t.path;const o=S({...r,...t.query});o&&(e=`${e}?${o}`)}return e}const I={path:"",query:""};function P(e){const t=e.indexOf("?");return-1!==t?(I.path=e.slice(0,t),I.query=e.slice(t+1)):(I.path=e,I.query=null),I}function x(e){return(e=re(e=function(e){return e&&"/"===e[e.length-1]?e:e+"/"}(e=P(e).path),!0)).toLowerCase()}function C(e){const t={proxyUrl:e.proxyUrl,urlPrefix:x(e.urlPrefix)},r=u.proxyRules,n=t.urlPrefix;let o=r.length;for(let e=0;e<r.length;e++){const t=r[e].urlPrefix;if(0===n.indexOf(t)){if(n.length===t.length)return-1;o=e;break}0===t.indexOf(n)&&(o=e+1)}return r.splice(o,0,t),o}function R(e){const t=u.proxyRules,r=x(e);for(let e=0;e<t.length;e++)if(0===r.indexOf(t[e].urlPrefix))return t[e]}function M(e,t){return e=L(e),t=L(t),re(e)===re(t)}function L(e){const t=(e=B(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function N(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&Object(n.e)(e,t),r=u.interceptors;if(r)for(const e of r)if(Array.isArray(e.urls)){if(e.urls.some(t))return e}else if(t(e.urls))return e;return null}function U(e,t,r=!1){const n=se(e),o=se(t);return!(!r&&n.scheme!==o.scheme)&&null!=n.host&&null!=o.host&&n.host.toLowerCase()===o.host.toLowerCase()&&n.port===o.port}function F(e){if("string"==typeof e){if(!z(e))return!0;e=se(e)}if(U(e,v))return!0;const t=u.trustedServers||[];for(let r=0;r<t.length;r++){const n=q(t[r]);for(let t=0;t<n.length;t++)if(U(e,n[t]))return!0}return!1}function q(e){return O[e]||(Z(e)||X(e)?O[e]=[new _(D(e))]:O[e]=[new _("http://"+e),new _("https://"+e)]),O[e]}function D(e,t=w,r){return X(e)?r&&r.preserveProtocolRelative?e:"http"===v.scheme&&v.authority===G(e).slice(2)?"http:"+e:"https:"+e:Z(e)?e:Object(i.c)(W("/"===e[0]?function(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}(t):t,e))}function $(e,t=w,r){if(!z(e))return e;const n=B(e),o=n.toLowerCase(),i=B(t).toLowerCase().replace(/\/+$/,""),s=r?B(r).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==i.indexOf(s))return e;const a=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let c=a(o,"/",o.indexOf("//")+2),u=-1;for(;o.slice(0,c+1)===i.slice(0,c)+"/"&&(u=c+1,c!==o.length);)c=a(o,"/",c+1);if(-1===u)return e;if(s&&u<s.length)return e;e=n.slice(u);const l=i.slice(u-1).replace(/[^/]+/g,"").length;if(l>0)for(let t=0;t<l;t++)e="../"+e;else e="./"+e;return e}function B(e){return function(e){const t=u.httpsDomains;if(!function(e){return d.test(e)||"http"===v.scheme&&X(e)}(e))return e;const r=e.indexOf("/",7);let o;if(o=-1===r?e:e.slice(0,r),o=o.toLowerCase().slice(7),b.test(o)){if(!Object(n.b)(o,":80"))return e;o=o.slice(0,-3),e=e.replace(":80","")}return"http"!==v.scheme||o!==v.authority||g.test(e)?((te()&&o===v.authority||t&&t.some(e=>o===e||Object(n.b)(o,"."+e))||te()&&!R(e))&&(e=ee(e)),e):e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=P(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?"+t.query)}return e}(e=D(e=e.trim()))))}function W(...e){const t=e.filter(i.h);if(!t||!t.length)return;const r=[];if(z(t[0])){const e=t[0],o=e.indexOf("//");-1!==o&&(r.push(e.slice(0,o+1)),n=t[0],p.test(n)&&(r[0]+="/"),t[0]=e.slice(o+2))}else"/"===t[0][0]&&r.push("");var n;const o=t.reduce((e,t)=>t?e.concat(t.split("/")):e,[]);for(let e=0;e<o.length;e++){const t=o[e];".."===t&&r.length>0&&".."!==r[r.length-1]?r.pop():(!t&&e===o.length-1||t&&("."!==t||0===r.length))&&r.push(t)}return r.join("/")}function G(e,t=!1){if(H(e)||V(e))return null;let r=e.indexOf("://");if(-1===r&&X(e))r=2;else{if(-1===r)return null;r+=3}const n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=re(e,!0)),e}function z(e){return X(e)||Z(e)}function H(e){return null!=e&&"blob:"===e.slice(0,5)}function V(e){return"data:"===e.slice(0,5)}function J(e){const t=Y(e);if(!t||!t.isBase64)return null;const r=atob(t.data),n=new Uint8Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n.buffer}const Q=/^data:(.*?)(;base64)?,(.*)$/;function Y(e){const t=e.match(Q);if(!t)return null;const[,r,n,o]=t;return{mediaType:r,isBase64:!!n,data:o}}function K(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function X(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function Z(e){return f.test(e)}function ee(e){return X(e)?"https:"+e:e.replace(d,"https:")}function te(){return"https"===v.scheme}function re(e,t=!1){return X(e)?e.slice(2):(e=e.replace(f,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function ne(e){let t=0;if(z(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function oe(e){return e.replace(/\/+$/,"")}function ie(e,t,r){if(!(t&&r&&e&&z(e)))return e;const n=e.indexOf("//"),o=e.indexOf("/",n+2),i=e.indexOf(":",n+2),s=Math.min(o<0?e.length:o,i<0?e.length:i);return e.slice(n+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(s)}`}function se(e){return"string"==typeof e?new _(D(e)):(e.scheme||(e.scheme=v.scheme),e)}function ae(e,t){const r=j(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function ce(e,t,r){const n=j(e),o=n.query||{};return o[t]=String(r),`${n.path}?${S(o)}`}function ue(e,t){const r=j(e),n=r.query||{};for(const e in t)n[e]=t[e];const o=S(n);return o?`${r.path}?${o}`:r.path}function le(e){if(Object(i.g)(e))return null;const t=e.match(fe);return t?t[1]:null}const fe=/.*?\.([^\/]*)$/},function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return g})),r.d(t,"g",(function(){return F})),r.d(t,"h",(function(){return C})),r.d(t,"i",(function(){return L})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return T})),r.d(t,"l",(function(){return k})),r.d(t,"m",(function(){return I})),r.d(t,"n",(function(){return U})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return P})),r.d(t,"q",(function(){return x})),r.d(t,"r",(function(){return R})),r.d(t,"s",(function(){return M})),r.d(t,"t",(function(){return _})),r.d(t,"u",(function(){return A})),r.d(t,"v",(function(){return N})),r.d(t,"w",(function(){return j}));var n=r(0),o=(r(20),r(2)),i=r(7),s=r(10),a=r(14),c=r(1);var u,l=(u=c.a,{setTimeout:(e,t)=>{const r=u.setTimeout(e,t);return{remove:()=>u.clearTimeout(r)}}}),f=r(22);let d=n.c.AbortSignal;Object(n.d)("abort-signal")||(n.c.AbortSignal=d=class{constructor(){this._aborted=!1,this.listeners={}}get aborted(){return this._aborted}addEventListener(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){if(!(e in this.listeners))return;const r=Object(a.b)(this.listeners[e],e=>e===t);r>=0&&this.listeners[e].splice(r,1)}dispatchEvent(e){const{type:t}=e;return"abort"===t&&(this._aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),t in this.listeners&&(this.listeners[t].forEach(t=>{setTimeout(()=>t.call(this,e),0)}),!e.preventDefault)}});let h=n.c.AbortController;Object(n.d)("abort-controller")||(n.c.AbortController=h=class{constructor(){this.signal=new d}abort(){let e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?(e=document.createEvent("Event"),e.initEvent("abort",!1,!1)):e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}});var p=h;i.a.getLogger("esri");function b(e){return Promise.all(e)}function g(e){return new Promise((t,r)=>{try{e(t,r)}catch(e){Promise.resolve().then(()=>r(e))}})}function m(e="Aborted"){return new s.a("AbortError",e)}function y(){return new p}function _(e){if(O(e))throw m()}function v(e){return Object(o.h)(e)?"aborted"in e?e:e.signal:e}function O(e){const t=v(e);return Object(o.h)(t)&&t.aborted}function w(e){if(S(e))throw e}function j(e){if(!S(e))throw e}function E(e,t){const r=v(e);if(!Object(o.g)(r)){if(!r.aborted)return Object(f.d)(r,"abort",()=>t());t()}}function T(e,t){const r=v(e);if(!Object(o.g)(r))return _(r),Object(f.d)(r,"abort",()=>t(m()))}function S(e){return e&&"AbortError"===e.name}function A(e){return e.catch(e=>{if(!S(e))throw e})}function k(){let e=null;const t=g((t,r)=>{e={promise:void 0,resolve:t,reject:r}});return e.promise=t,e}function I(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return I(t.map(t=>e[t])).then(e=>{const r={};return t.forEach((t,n)=>r[t]=e[n]),r})}const t=e,r=R;return g(e=>{const n=[];let o=t.length;0===o&&e(n),t.forEach(t=>{const i={promise:t||r(t)};n.push(i),i.promise.then(e=>{i.value=e}).catch(e=>{i.error=e}).then(()=>{--o,0===o&&e(n)})})})}function P(e){return e&&"function"==typeof e.then}function x(e){return e&&e.length?g((t,r)=>{for(const n of e)n.then(t,r)}):R()}function C(e){return Promise.reject(e)}function R(e){return Promise.resolve(e)}function M(e,t,r){const n=y();return E(r,()=>n.abort()),g((r,o)=>{let i=setTimeout(()=>{i=0,r(t)},e);E(n,()=>{i&&(clearTimeout(i),o(m()))})})}function L(e){return e&&"function"==typeof e.then}function N(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:R(e)}function U(e,t=-1){let r,n,i,s,a=null;const c=(...u)=>{if(r){n=u,s&&s.reject(m()),s=k();const e=Object(o.c)(s.promise);if(a){const e=a;a=null,e.abort()}return e}if(i=s||k(),s=null,t>0){const n=y();r=N(e(...u,n.signal));const o=r;M(t).then(()=>{r===o&&(s?n.abort():a=n)})}else r=1,r=N(e(...u));const l=()=>{const e=n;n=i=r=a=null,null!=e&&c(...e)},f=r,d=i;return f.then(l,l),f.then(d.resolve,d.reject),Object(o.c)(d.promise)};return c}function F(){let e,t;const r=g((r,n)=>{e=r,t=n}),n=t=>{e(t)};return n.resolve=t=>e(t),n.reject=e=>t(e),n.timeout=(e,t)=>l.setTimeout(()=>n.reject(t),e),n.promise=r,n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return d}));var n=r(8),o=r(2),i=r(49);function s(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function a(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function c(e,t,r){return u(e,t,r?{policy:r,path:""}:null)}function u(e,t,r){return t?Object.keys(t).reduce((function(e,i){let s=null,a="merge";if(r&&(s=r.path?`${r.path}.${i}`:i,a=r.policy(s)),"replace"===a)return e[i]=t[i],e;if(void 0===e[i])return e[i]=Object(n.a)(t[i]),e;let c=e[i],l=t[i];if(c===l)return e;if(Array.isArray(l)||Array.isArray(e))c=c?Array.isArray(c)?e[i]=c.concat():e[i]=[c]:e[i]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(e=>{-1===c.indexOf(e)&&c.push(e)}));else if(l&&"object"==typeof l)if(r){const t=r.path;r.path=Object(o.c)(s),e[i]=u(c,l,r),r.path=t}else e[i]=u(c,l,null);else e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=l);return e}),e||{}):e}function l(e){return e?"string"==typeof e&&-1===e.indexOf(".")?e:f(e):e}function f(e){return Array.isArray(e)?e:e.split(".")}function d(e){if(Array.isArray(e)||e.indexOf(",")>-1){const t=Array.isArray(e)?e:e.split(",");for(let e=0;e<t.length;e++)t[e]=t[e].trim();return 1===t.length?t[0]:t}return e.trim()}function h(e){if(-1===e.indexOf("?"))return null;const t=f(e),r=new Array(t.length);for(let e=0;e<t.length;e++){const n=t[e];r[e]="?"===n[n.length-1],r[e]&&(t[e]=n.slice(0,-1))}return{fullPath:t.join("."),conditional:r}}function p(e,t,r,n){const o=d(t);if(Array.isArray(o)){const t=o.map(t=>n(e,t.trim(),r));return Object(i.a)(t)}return n(e,o.trim(),r)}function b(e){let t=!1;return()=>{t||(t=!0,e())}}},function(e,t,r){"use strict";var n=r(3),o=(r(20),r(44)),i=r(19),s=r(2);const a={info:0,warn:1,error:2,none:3};class c{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,c._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=c.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}static get test(){return{resetLoggers(e={}){const t=c._loggers;return c._loggers=e,t},set throttlingDisabled(e){c._throttlingDisabled=e}}}static getLogger(e){let t=c._loggers[e];return t||(t=new c({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!c._throttlingDisabled){const n=this._argsToKey(r),o=this._loggedMessages[e].get(n);if("once"===t&&null!=o||"oncePerTick"===t&&o&&o>=c._tickCounter)return;this._loggedMessages[e].set(n,c._tickCounter),c._scheduleTickCounterIncrement()}for(const t of i.a.log.interceptors)if(t(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){let r=this;for(;Object(s.h)(r);){const t=r[e];if(Object(s.h)(t))return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r)}_matchLevel(e){const t=i.a.log.level?i.a.log.level:Object(n.a)("esri-debug-messages")?"info":"warn";return a[this._parentWithMember("level",t)]<=a[e]}_argsToKey(...e){return Object(o.b)(JSON.stringify(e,(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]"))}static _scheduleTickCounterIncrement(){c._tickCounterScheduled||(c._tickCounterScheduled=!0,Promise.resolve().then(()=>{c._tickCounter++,c._tickCounterScheduled=!1}))}}c._loggers={},c._tickCounter=0,c._tickCounterScheduled=!1,c._throttlingDisabled=!1,t.a=c},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}));var n=r(18);function o(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&o(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function i(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(n.h)(e)||Object(n.k)(e)||Object(n.l)(e)||Object(n.f)(e)||Object(n.i)(e)||Object(n.g)(e)||Object(n.j)(e)||Object(n.d)(e)||Object(n.e)(e))return Object(n.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((e,r)=>{t.set(r,i(e))}),t}if(e instanceof Set){const t=new Set;return e.forEach(e=>{t.add(i(e))}),t}let t;const r=e;return t="function"==typeof r.clone?r.clone():"function"==typeof r.map&&"function"==typeof r.forEach?r.map(i):"function"==typeof r.notifyChange&&"function"==typeof r.watch?r.clone():c({},e,i),t}function s(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}function a(e={},...t){for(const r of t)c(e,r);return e}function c(e,t,r){let n,o;const i={};for(n in t){o=t[n];const s=!(n in i)||i[n]!==o;(!(n in e)||e[n]!==o&&s)&&(e[n]=r?r(o):o)}return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return A})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return P})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return w})),r.d(t,"i",(function(){return c})),r.d(t,"j",(function(){return T})),r.d(t,"k",(function(){return S})),r.d(t,"l",(function(){return a})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return I})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return k}));var n=r(37);const o=r(7).a.getLogger("esri.core.Accessor");function i(e){return null==e?e:new Date(e)}function s(e){return null==e?e:!!e}function a(e){return null==e?e:e.toString()}function c(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function l(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function d(e){return e&&"isCollection"in e}function h(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function p(e,t){return!!l(t)&&(o.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+g(e)+"'"),!0)}function b(e,t){return null==t?t:d(e)?function(e,t){if(!t||!t.constructor||!d(t.constructor))return p(e,t)?t:new e(t);const r=h(e.prototype.itemType),n=h(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(p(e,t),t):new e(t):t}(e,t):f(e,t)?p(e,t)?t:new e(t):t}function g(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function m(e){switch(e){case Number:return c;case A:return u;case Boolean:return s;case String:return a;case Date:return i;default:return b.bind(null,e)}}function y(e,t){const r=m(e);return 1===arguments.length?r:r(t)}function _(e,t,r){return 1===arguments.length?_.bind(null,e):t?Array.isArray(t)?t.map(t=>e(t,r)):[e(t,r)]:t}function v(e,t){return 1===arguments.length?_(y.bind(null,e)):_(y.bind(null,e),t)}function O(e,t,r){return 0!==t&&Array.isArray(r)?r.map(r=>O(e,t-1,r)):e(r)}function w(e,t,r){if(2===arguments.length)return w.bind(null,e,t);if(!r)return r;let n=t,o=r=O(e,t,r);for(;n>0&&Array.isArray(o);)n--,o=o[0];if(void 0!==o)for(let e=0;e<n;e++)r=[r];return r}function j(e,t,r){return 2===arguments.length?w(y.bind(null,e),t):w(y.bind(null,e),t,r)}function E(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)})}function T(e,t){if(2===arguments.length)return T(e).call(null,t);const r=new Set,n=e.filter(e=>"function"!=typeof e),i=e.filter(e=>"function"==typeof e);for(const t of e)"string"!=typeof t&&"number"!=typeof t||r.add(t);let s=null,a=null;return(e,t)=>{if(null==e)return e;const c=typeof e,u="string"===c||"number"===c;return u&&(r.has(e)||i.some(e=>"string"===c&&e===String||"number"===c&&e===Number))||"object"===c&&i.some(t=>!f(e,t))?e:(u&&n.length?(s||(s=n.map(e=>"string"==typeof e?`'${e}'`:""+e).join(", ")),o.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${s}`)):"object"==typeof e&&i.length?(a||(a=i.map(e=>g(e)).join(", ")),o.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${a}`)):o.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function S(e,t){if(2===arguments.length)return S(e).call(null,t);const r={},n=[],i=[];for(const t in e.typeMap){const o=e.typeMap[t];r[t]=y(o),n.push(g(o)),i.push(t)}const s=()=>`'${n.join("', '")}'`,a=()=>`'${i.join("', '")}'`,c="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!f(e.base,t))return t;if(null==t)return t;const n=c(t)||e.defaultKeyValue,i=r[n];if(!i)return o.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!f(e.typeMap[n],t))return t;if("string"==typeof e.key&&!l(t)){const r={};for(const n in t)n!==e.key&&(r[n]=t[n]);return i(r)}return i(t)}}class A{}const k={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function I(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function P(e){switch(e.type){case"native":return y(e.value);case"array":return _(P(e.value));case"one-of":return function(e){let t=null;return(r,i)=>function e(t,r){if(null==t)return!0;switch(r.type){case"native":switch(r.value){case Number:case A:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof r.value;case"array":return!!Array.isArray(t)&&!t.some(t=>!e(t,r.value));case"one-of":return r.values.some(r=>e(t,r))}}(r,e)?r:(null==t&&(t=function e(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case A:return"integer";case Date:return"date";default:return g(t.value)}case"array":return"array of "+e(t.value);case"one-of":{const r=t.values.map(t=>e(t));return`one of ${r.slice(0,r.length-1)} or ${r[r.length-1]}`}default:Object(n.a)(t)}return"unknown"}(e)),o.error("Accessor#set","Invalid property value, value needs to be of type "+t),i&&(i.valid=!1),null)}(e);default:return Object(n.a)(e),null}}},function(e,t,r){"use strict";var n=r(8),o=r(7),i=r(34);class s extends i.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof s))return new s(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(n.a)(t)}catch(e){return"[object]"}}))}}catch(e){throw o.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error",t.a=s},function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return f}));var n=r(0);let o,i,s,a,c,u,l,f,d,h;if(Object(n.d)("es6-string")&&Object(n.d)("es6-string-raw"))o=n.c.String.fromCodePoint,i=n.c.String.raw,s=Object(n.e)(n.c.String.prototype.codePointAt),a=Object(n.e)(n.c.String.prototype.endsWith),c=Object(n.e)(n.c.String.prototype.includes),u=Object(n.e)(n.c.String.prototype.normalize),l=Object(n.e)(n.c.String.prototype.repeat),f=Object(n.e)(n.c.String.prototype.startsWith);else{const e=function(e,t,r,n,o=!1){if(null==t)throw new TypeError("string."+e+" requires a valid string to search against.");const i=t.length;return n=n!=n?o?i:0:n,[t,String(r),Math.min(Math.max(n,0),i)]};o=function(...e){const t=arguments.length;if(!t)return"";const r=String.fromCharCode,n=16384;let o=[],i=-1,s="";for(;++i<t;){let e=Number(arguments[i]);if(!(isFinite(e)&&Math.floor(e)===e&&e>=0&&e<=1114111))throw RangeError("string.fromCodePoint: Invalid code point "+e);if(e<=65535)o.push(e);else{e-=65536;let t=55296+(e>>10),r=e%1024+56320;o.push(t,r)}(i+1===t||o.length>n)&&(s+=r.apply(null,o),o.length=0)}return s},i=function(e,...t){let r=e.raw,n="",o=t.length;if(null==e||null==e.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(let e=0,i=r.length;e<i;e++)n+=r[e]+(e<o&&e<i-1?t[e]:"");return n},s=function(e,t=0){if(null==e)throw new TypeError("string.codePointAt requries a valid string.");const r=e.length;if(t!=t&&(t=0),t<0||t>=r)return;const n=e.charCodeAt(t);if(n>=55296&&n<=56319&&r>t+1){const r=e.charCodeAt(t+1);if(r>=56320&&r<=57343)return 1024*(n-55296)+r-56320+65536}return n},a=function(t,r,n){if(""===r)return!0;if(void 0===n)n=t.length;else if(null===n||isNaN(n))return!1;[t,r,n]=e("endsWith",t,r,n,!0);const o=n-r.length;return!(o<0)&&t.slice(o,n)===r},c=function(t,r,n=0){return[t,r,n]=e("includes",t,r,n),-1!==t.indexOf(r,n)},l=function(e,t=0){if(null==e)throw new TypeError("string.repeat requires a valid string.");if(t!=t&&(t=0),t<0||t===1/0)throw new RangeError("string.repeat requires a non-negative finite count.");let r="";for(;t;)t%2&&(r+=e),t>1&&(e+=e),t>>=1;return r},f=function(t,r,n=0){r=String(r),[t,r,n]=e("startsWith",t,r,n);const o=n+r.length;return!(o>t.length)&&t.slice(n,o)===r}}Object(n.d)("es2017-string")?(d=Object(n.e)(n.c.String.prototype.padEnd),h=Object(n.e)(n.c.String.prototype.padStart)):(d=function(e,t,r=" "){if(null==e)throw new TypeError("string.repeat requires a valid string.");if(t===1/0)throw new RangeError("string.padEnd requires a non-negative finite count.");(null==t||t<0)&&(t=0);let n=String(e);const o=t-n.length;return o>0&&(n+=l(r,Math.floor(o/r.length))+r.slice(0,o%r.length)),n},h=function(e,t,r=" "){if(null==e)throw new TypeError("string.repeat requires a valid string.");if(t===1/0)throw new RangeError("string.padStart requires a non-negative finite count.");(null==t||t<0)&&(t=0);let n=String(e);const o=t-n.length;return o>0&&(n=l(r,Math.floor(o/r.length))+r.slice(0,o%r.length)+n),n})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return i}));var n=r(3);r(20);const o="4.17",i={request:(e,t)=>Promise.resolve().then(r.bind(null,43)).then(({default:r})=>{const n=e.options||{};return n.responseType="array-buffer",n.signal=null==t?void 0:t.signal,r(e.url,n)}).then(e=>({result:{data:e.data,ssl:e.ssl},transferList:[e.data]}))};let s;function a(e){s=e}Object(n.a)("host-webworker")||(Object(n.a)("esri-console-log-version")&&console.warn(`Using ArcGIS API for JavaScript 4.17-next [Date: 20200915, Revision: ${"79a17eb81672efeaa055816b5d0e7885f19470d9".slice(0,8)}]`),(Object(n.a)("edge")||Object(n.a)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i}));var n=r(6);function o(e,t,r){const o="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=r.getItemAt||Array.isArray(r)){const e=parseInt(o,10);if(!isNaN(e))return Array.isArray(r)?r[e]:r.getItemAt(e)}const i=Object(n.a)(r);return t?Object(n.b)(i,o)?i.get(o):r[o]:Object(n.b)(i,o)?i.internalGet(o):r[o]}function i(e,t,r=!1,i=0){return"string"==typeof t&&-1===t.indexOf(".")?o(t,r,e):function e(t,r,n,i){if(null==t)return t;const s=o(r[i],n,t);return!s&&i<r.length-1?void 0:i===r.length-1?s:e(s,r,n,i+1)}(e,Object(n.g)(t),r,i)}function s(e,t){return i(e,t,!0)}function a(e,t){return void 0!==i(t,e,!0)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return d}));var n=r(0),o=r(33);const i=Math.pow(2,53)-1;let s,a,c,u,l,f,d;if(Object(n.d)("es6-array")&&Object(n.d)("es6-array-fill"))s=n.c.Array.from,a=n.c.Array.of,c=Object(n.e)(n.c.Array.prototype.copyWithin),u=Object(n.e)(n.c.Array.prototype.fill),l=Object(n.e)(n.c.Array.prototype.find),f=Object(n.e)(n.c.Array.prototype.findIndex);else{const e=function(e){return isNaN(e)?0:(e=Number(e),isFinite(e)&&(e=Math.floor(e)),Math.min(Math.max(e,0),i))},t=function(e){return e=Number(e),isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},r=function(e,t){return e<0?Math.max(t+e,0):Math.min(e,t)};s=function(t,r,n){if(null==t)throw new TypeError("from: requires an array-like object");r&&n&&(r=r.bind(n));const i=e(t.length),s="function"==typeof this?Object(new this(i)):new Array(i);if(!Object(o.b)(t)&&!Object(o.a)(t))return s;if(Object(o.b)(t)){if(0===i)return[];for(let e=0;e<t.length;e++)s[e]=r?r(t[e],e):t[e]}else{let e=0;for(const n of t)s[e]=r?r(n,e):n,e++}return void 0!==t.length&&(s.length=i),s},a=function(...e){return Array.prototype.slice.call(e)},c=function(n,o,i,s){if(null==n)throw new TypeError("copyWithin: target must be an array-like object");const a=e(n.length);o=r(t(o),a),i=r(t(i),a),s=r(void 0===s?a:t(s),a);let c=Math.min(s-i,a-o),u=1;for(o>i&&o<i+c&&(u=-1,i+=c-1,o+=c-1);c>0;)i in n?n[o]=n[i]:delete n[o],o+=u,i+=u,c--;return n},u=function(n,o,i,s){const a=e(n.length);let c=r(t(i),a);for(s=r(void 0===s?a:t(s),a);c<s;)n[c++]=o;return n},l=function(e,t,r){const n=f(e,t,r);return-1!==n?e[n]:void 0},f=function(t,r,n){const o=e(t.length);if(!r)throw new TypeError("find: second argument must be a function");n&&(r=r.bind(n));for(let e=0;e<o;e++)if(r(t[e],e,t))return e;return-1}}if(Object(n.d)("es7-array"))d=Object(n.e)(n.c.Array.prototype.includes);else{const e=function(e){return e=Number(e),isNaN(e)?0:(isFinite(e)&&(e=Math.floor(e)),Math.min(Math.max(e,0),i))};d=function(t,r,n=0){let o=e(t.length);for(let e=n;e<o;++e){const n=t[e];if(r===n||r!=r&&n!=n)return!0}return!1}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s}));var n=r(8);function o(e,t,r=!1){return function e(t,r,o){return r?Object.keys(r).reduce((function(t,i){let s=t[i],a=r[i];return s===a?t:void 0===s?(t[i]=Object(n.a)(a),t):(Array.isArray(a)||Array.isArray(t)?(s=s?Array.isArray(s)?t[i]=s.concat():t[i]=[s]:t[i]=[],a&&(Array.isArray(a)||(a=[a]),o?a.forEach(e=>{-1===s.indexOf(e)&&s.push(e)}):t[i]=a.concat())):a&&"object"==typeof a?t[i]=e(s,a,o):t.hasOwnProperty(i)&&!r.hasOwnProperty(i)||(t[i]=a),t)}),t||{}):t}(e,t,r)}function i(e,t){if(null!=t)return t[e]||a(e.split("."),!1,t)}function s(e,t,r){const n=e.split("."),o=n.pop(),i=a(n,!0,r);i&&o&&(i[o]=t)}function a(e,t,r){let n=r;for(const r of e){if(null==n)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return c}));var n,o,i=r(3);(o=n||(n={}))[o.HANDSHAKE=0]="HANDSHAKE",o[o.CONFIGURE=1]="CONFIGURE",o[o.CONFIGURED=2]="CONFIGURED",o[o.OPEN=3]="OPEN",o[o.OPENED=4]="OPENED",o[o.RESPONSE=5]="RESPONSE",o[o.INVOKE=6]="INVOKE",o[o.ABORT=7]="ABORT",o[o.CLOSE=8]="CLOSE",o[o.OPEN_PORT=9]="OPEN_PORT",o[o.ON=10]="ON";let s=0;function a(){return s++}function c(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function u(e,t,r,o){if(t.type===n.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==n.INVOKE&&t.type!==n.RESPONSE)return void e.postMessage(t);let i;!function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(r)?(i=f(o),t.data=r):(i=f(r.transferList),t.data=r.result),i?e.postMessage(t,i):e.postMessage(t)}function l(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function f(e){if(!e||!e.length)return null;if(Object(i.a)("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(e=>{return!((t=e)instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name);var t});return t.length?t:null}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l}));var n=r(8),o=r(2),i=r(6);class s{constructor(e){this.autoDestroy=!1,this.properties=e}}function a(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const r=Object.create(t.properties),o=t.autoDestroy;for(const e in r)r[e]=Object(n.a)(r[e]);t=new s(r),t.autoDestroy=o,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new s({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return Object(o.c)(e.constructor.__accessorMetadata__)}function c(e){return a(e).properties}function u(e,t){const r=c(e);let n=r[t];return n||(n=r[t]={}),n}function l(e,t){return Object(i.c)(e,t,d)}const f=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function d(e){return f.test(e)?"replace":"merge"}},function(e,t,r){"use strict";function n(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function o(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const n=Math.max(0,r-t),o=new(0,e.constructor)(n);for(let r=0;r<n;r++)o[r]=e[t+r];return o}function i(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function s(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function a(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function c(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function u(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function l(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function f(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function d(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function h(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function p(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function b(e){return e?128+e.buffer.byteLength+64:0}r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return a})),r.d(t,"l",(function(){return c})),r.d(t,"m",(function(){return o}))},function(e,t,r){"use strict";var n=r(1),o=(r(3),r(0)),i=r(15);r(11);Object(o.a)("postmessage",!1,!0);const s={applicationUrl:n.a.location&&n.a.location.href,assetsPath:null,baseUrl:null,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};n.a.esriConfig&&(Object(i.a)(s,n.a.esriConfig,!0),delete s.has),s.baseUrl||(s.baseUrl="./"),s.assetsPath||(s.assetsPath="assets"),s.request.corsEnabledServers=[],s.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=s},function(e,t,r){"use strict";(function(e){var t=r(0);r(50);function n(e){e&&e.isActive&&e.callback&&e.callback()}function o(e,t){return{destroy:function(){this.destroy=function(){},e.isActive=!1,e.callback=null,t&&t()}}}let i,s;const a=function(){let r,s;if(Object(t.d)("postmessage")){const e=[];t.c.addEventListener("message",(function(r){r.source===t.c&&"dojo-queue-message"===r.data&&(r.stopPropagation(),e.length&&n(e.shift()))})),s=function(r){e.push(r),t.c.postMessage("dojo-queue-message","*")}}else Object(t.d)("setimmediate")?(r=t.c.clearImmediate,s=function(t){return e(n.bind(null,t))}):(r=t.c.clearTimeout,s=function(e){return setTimeout(n.bind(null,e),0)});function a(e){const t={isActive:!0,callback:e},n=s(t);return o(t,r&&function(){r(n)})}return Object(t.d)("microtasks")?a:function(e){return i(),a(e)}}();if(!Object(t.d)("microtasks")){let e=!1;s=[],i=function(){e||(e=!0,a((function(){if(e=!1,s.length){let e;for(;e=s.shift();)n(e)}})))}}!function(){if(!Object(t.d)("raf"))return a;Object(t.d)("microtasks")}();let c=function(){let e;if(Object(t.d)("host-node"))e=function(e){t.c.process.nextTick(n.bind(null,e))};else if(Object(t.d)("es6-promise"))e=function(e){t.c.Promise.resolve(e).then(n)};else if(Object(t.d)("dom-mutationobserver")){const r=t.c.MutationObserver||t.c.WebKitMutationObserver,n=document.createElement("div"),o=[];new r((function(){for(;o.length>0;){const e=o.shift();e&&e.isActive&&e.callback&&e.callback()}})).observe(n,{attributes:!0}),e=function(e){o.push(e),n.setAttribute("queueStatus","1")}}else e=function(e){i(),s.push(e)};return function(t){const r={isActive:!0,callback:t};return e(r),o(r)}}(),u=t.c.Promise;const l=function(e){return e&&"function"==typeof e.then};var f;Object(t.d)("es6-promise")||(t.c.Promise=((f=class{constructor(e){this.state=1,this[Symbol.toStringTag]="Promise";let r=!1;const n=()=>1!==this.state||r;let o=[],i=function(e){o&&o.push(e)};const s=(e,t)=>{1===this.state&&(this.state=e,this.resolvedValue=t,i=c,o&&o.length>0&&c((function(){if(o){let e=o.length;for(let t=0;t<e;++t)o[t].call(null);o=null}})))},a=(e,t)=>{n()||(l(t)?(t.then(s.bind(null,0),s.bind(null,2)),r=!0):s(e,t))};this.then=(e,r)=>new t.d((t,n)=>{i(()=>{const o=2===this.state?r:e;if("function"==typeof o)try{t(o(this.resolvedValue))}catch(e){n(e)}else 2===this.state?n(this.resolvedValue):t(this.resolvedValue)})});try{e(a.bind(null,0),a.bind(null,2))}catch(e){s(2,e)}}static all(e){return new this((function(r,n){const o=[];let i=0,s=0,a=!0;function c(e,t){o[e]=t,++i,u()}function u(){a||i<s||r(o)}let f=0;for(const r of e)d=f,++s,l(h=r)?h.then(c.bind(null,d),n):t.d.resolve(h).then(c.bind(null,d)),f++;var d,h;a=!1,u()}))}static race(e){return new this((function(r,n){for(const o of e)o instanceof t.d?o.then(r,n):t.d.resolve(o).then(r)}))}static reject(e){return new this((function(t,r){r(e)}))}static resolve(e){return new this((function(t){t(e)}))}catch(e){return this.then(void 0,e)}})[Symbol.species]=u,u=f)),Object(t.d)("es2018-promise-finally")||(t.c.Promise.prototype.finally=function(e){return this.then(e&&(t=>Promise.resolve(e()).then(()=>t)),e&&(t=>Promise.resolve(e()).then(()=>{throw t})))})}).call(this,r(58).setImmediate)},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return p})),r.d(t,"i",(function(){return g})),r.d(t,"j",(function(){return i}));var n=r(14),o=r(45);function i(e,t){return t?e.filter((e,r,o)=>Object(n.b)(o,t.bind(null,e))===r):e.filter((e,t,r)=>r.indexOf(e)===t)}function s(e,t,r){if(!e&&!t)return!0;if(!e||!t||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t,r){return e&&t?r?e.filter((function(e){return Object(n.b)(t,(function(t){return r(e,t)}))>-1})):e.filter((function(e){return t.indexOf(e)>-1})):[]}const c=!!Array.prototype.fill;function u(e,t){if(c)return new Array(e).fill(t);const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r}function l(e,t){void 0===t&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r}class f{constructor(){this.last=0}}const d=new f;function h(e,t,r,n){n=n||d;const o=Math.max(0,n.last-10);for(let i=o;i<r;++i)if(e[i]===t)return n.last=i,i;const i=Math.min(o,r);for(let r=0;r<i;++r)if(e[r]===t)return n.last=r,r;return-1}function p(e,t,r,n){const o=null==r?e.length:r,i=h(e,t,o,n);if(-1!==i)return e[i]=e[o-1],null==r&&e.pop(),t}const b=new Set;function g(e,t,r=e.length,n=t.length,o,i){if(0===n||0===r)return r;b.clear();for(let e=0;e<n;++e)b.add(t[e]);o=o||d;const s=Math.max(0,o.last-10);for(let t=s;t<r;++t)if(b.has(e[t])&&(i&&i.push(e[t]),b.delete(e[t]),e[t]=e[r-1],--r,--t,0===b.size||0===r))return b.clear(),r;for(let t=0;t<s;++t)if(b.has(e[t])&&(i&&i.push(e[t]),b.delete(e[t]),e[t]=e[r-1],--r,--t,0===b.size||0===r))return b.clear(),r;return b.clear(),r}new o.a;function m(e){const t=new Array(e.size);let r=0;return e.forEach((e,n)=>t[r++]=n),t}},function(e,t,r){"use strict";function n(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function o(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const t of n)e.addEventListener(t,r);return{remove(){for(const t of n)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function i(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=o(e,t,t=>{i.remove(),r.call(e,t)});return{remove(){i.remove()}}}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return i}));const s={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function a({key:e}){return s[e]||e}},function(e,t,r){"use strict";var n,o=r(21);!function(e){function t(e,t,r,n){let o=t,i=t;const s=r>>>1,a=e[o-1];for(;i<=s;){i=o<<1,i<r&&n(e[i-1],e[i])<0&&++i;const t=e[i-1];if(n(t,a)<=0)break;e[o-1]=t,o=i}e[o-1]=a}function r(e,t){return e<t?-1:e>t?1:0}e.sort=function(e,n,o,i){void 0===n&&(n=0),void 0===o&&(o=e.length),void 0===i&&(i=r);for(let r=o>>>1;r>n;r--)t(e,r,o,i);const s=n+1;for(let r=o-1;r>n;r--){const o=e[n];e[n]=e[r],e[r]=o,t(e,s,r,i)}},e.iterableSort=function*(e,n,o,i){void 0===n&&(n=0),void 0===o&&(o=e.length),void 0===i&&(i=r);for(let r=o>>>1;r>n;r--)t(e,r,o,i),yield;const s=n+1;for(let r=o-1;r>n;r--){const o=e[n];e[n]=e[r],e[r]=o,t(e,s,r,i),yield}}}(n||(n={}));var i=n;t.a=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new o.a,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>{this.data.length>1.5*this.length&&(this.data.length=Math.floor(1.1*this.length))}))}toArray(){return this.data.slice(0,this.length)}getItemAt(e){if(!(e<0||e>=this._length))return this.data[e]}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let r=0;r<t;r++)this.data[this._length++]=e[r]}fill(e,t){for(let r=0;r<t;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}*iterableRemoveMany(e){const t=new Array;for(let r=0;r<this.length&&!(r>=this.length);++r)Object(o.d)(e.data,this.data[r],e.length,e._hint)<0&&t.push(this.data[r]),yield;this.data=t,this._length=this.data.length}remove(e){const t=Object(o.d)(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){const t=Object(o.h)(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),t}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,r){this.length=Object(o.i)(this.data,e,this.length,t,this._hint,r)}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){e>=this.length||t>=this.length||e===t||([this.data[e],this.data[t]]=[this.data[t],this.data[e]])}sort(e){i.sort(this.data,0,this.length,e)}iterableSort(e){return i.iterableSort(this.data,0,this.length,e)}some(e,t){for(let r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}filterInPlace(e,t){let r=0;for(let n=0;n<this._length;++n){const o=this.data[n];e.call(t,o,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=o,r++)}if(this._deallocator)for(let e=r;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=r,this}forEachSimple(e,t){const r=this.length,n=this.data;for(let o=0;o<r;++o)e.call(t,n[o],o,n)}*iterableForEach(){for(let e=0;e<this.length;++e)yield this.data[e]}map(e,t){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r}reduce(e,t){let r=t;for(let t=0;t<this.length;++t)r=e(r,this.data[t],t,this.data);return r}}},function(e,t,r){"use strict";function n(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(3),o=r(17),i=r(29);const s=new Set,a=new Set;function c(e){return t=>{t.prototype.declaredClass=e,Object(i.c)(Object(o.a)(t.prototype).properties,e),l(t);const r=[],c=[];let u=t.prototype;for(;u;)u.hasOwnProperty("initialize")&&!s.has(u.initialize)&&(s.add(u.initialize),r.push(u.initialize)),u.hasOwnProperty("destroy")&&!a.has(u.destroy)&&(a.add(u.destroy),c.push(u.destroy)),u=Object.getPrototypeOf(u);s.clear(),a.clear();class f extends t{constructor(...e){if(super(...e),this.constructor===f&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=r.length-1;e>=0;e--)r[e].call(this)}}),c.length){let e=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(e){if(Object(n.a)("esri-debug-messages"))try{throw new Error("instance is already destroyed")}catch(e){console.warn(e.stack)}}else{e=!0;for(let e=0;e<c.length;e++)c[e].call(this)}}})}this.postscript(...e)}}}return f.__accessorMetadata__=Object(o.a)(t.prototype),f.prototype.declaredClass=e,f}}function u(e,t){return null==t.get?void 0===t.value?function(){return this.__accessor__.store.get(e)}:function(){const r=this.__accessor__.store;return r.has(e)?r.get(e):t.value}:function(){return this.__accessor__.getterComputed(e,t)}}function l(e){const t=e.prototype,r=t.declaredClass,n=Object(o.a)(t).properties;Object(i.b)(n,r);const s={};for(const e of Object.getOwnPropertyNames(n)){const t=n[e];s[e]={enumerable:!0,configurable:!0,get:u(e,t),set(r){const n=this.__accessor__;if(void 0!==n){if(!Object.isFrozen(this)){if(n.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${e}' of ${this.declaredClass}`);if(2===n.lifecycle&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${e}' of ${this.declaredClass}`);n.set(e,r)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}}}Object.defineProperties(e.prototype,s)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l}));var n=r(7),o=r(9),i=r(13),s=r(17),a=r(35);const c=n.a.getLogger("esri.core.accessorSupport.decorators.property");function u(e={}){return(t,r,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const u=Object(s.b)(t,r);n&&(n.get||n.set?(u.get=n.get||u.get,u.set=n.set||u.set):"value"in n&&("value"in e&&c.warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),u.value=e.value=n.value)),null!=e.readOnly&&(u.readOnly=e.readOnly);const{aliasOf:l}=e;if(l){const e="string"==typeof l?l:l.source,t="string"==typeof l?null:!0===l.overridable;let n;u.dependsOn=[e],u.get=function(){let t=Object(i.b)(this,e);if("function"==typeof t){n||(n=e.split(".").slice(0,-1).join("."));const r=Object(i.b)(this,n);r&&(t=t.bind(r))}return t},u.readOnly||(u.set=t?function(e){void 0!==e?this._override(r,e):this._clearOverride(r)}:function(t){Object(a.a)(this,e,t)})}const d=e.type,h=e.types;u.cast||(d?u.cast=function(e){let t=0,r=e;if(Object(o.n)(e))return Object(o.f)(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;const n=r;if(Object(o.o)(n))return 0===t?Object(o.j)(n):Object(o.h)(Object(o.j)(n),t);if(1===t)return Object(o.b)(n);if(t>1)return Object(o.g)(n,t);const i=e;return i.from?i.from:Object(o.m)(i)}(d):h&&(Array.isArray(h)?u.cast=Object(o.c)(Object(o.k)(h[0])):u.cast=Object(o.k)(h))),e.range&&(u.cast=f(u.cast,e.range)),Object(s.c)(u,e)}}function l(e,t,r){const n=Object(s.b)(e,r);n.json||(n.json={});let o=n.json;return void 0!==t&&(o.origins||(o.origins={}),o.origins[t]||(o.origins[t]={}),o=o.origins[t]),o}function f(e,t){return r=>{let n=+e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}}},function(e,t,r){"use strict";class n{constructor(e,t,r,n=1,o=0){if(this.ctor=e,this.acquireFunction=t,this.releaseFunction=r,this.allocationSize=n,this._pool=new Array(o),this._initialSize=o,this.ctor)for(let e=0;e<o;e++)this._pool[e]=new this.ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...e){let t;const r=this.ctor;if(n.test.disabled)t=new r;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new r}t=this._pool.pop()}return this.acquireFunction?this.acquireFunction(t,...e):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!n.test.disabled&&(this.releaseFunction?this.releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}n.test={disabled:!1},t.a=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r(2),o=r(6);class i{constructor(e,t){if(this.path=e,this.callback=t,this.chain=null,this.conditional=null,e.indexOf(".")>-1){const t=Object(o.f)(e);t&&(this.path=t.fullPath,this.conditional=t.conditional),this.chain=Object(o.g)(this.path)}else"?"===e[e.length-1]&&(this.path=e.slice(0,e.length-1),this.conditional=[!0],this.chain=[this.path]);return this.callback=t,this}install(e){return function(e,t){return e.chain?new a(e,t):new s(e,t)}(this,e)}notify(e){this.callback(e,this.path)}}class s{constructor(e,t){var r;this.binding=e,this.target=t,null==(r=Object(o.a)(t))||r.addCursor(this.binding.path,this)}destroy(){var e;this.target&&(null==(e=Object(o.a)(this.target))||e.removeCursor(this.binding.path,this),this.target=this.binding=null)}propertyDestroyed(e,t){var r;null==(r=Object(o.a)(this.target))||r.removeCursor(t,this)}propertyInvalidated(){this.binding&&this.binding.notify(this.target)}propertyCommitted(){this.binding&&this.binding.notify(this.target)}}class a{constructor(e,t){this.binding=e,this.target=t,this.stack=[],this.properties=Object(n.c)(Object(o.a)(t));const r=e.chain[0];return this.stack.push({properties:this.properties,propertyName:r}),this.properties.addCursor(r,this),this.moveForward(),this}destroy(){for(;;){const e=this.stack.pop();if(null==e)break;e.properties.removeCursor(e.propertyName,this)}this.target=this.binding=null}propertyDestroyed(e,t){this.moveBackward(e,t)}propertyInvalidated(){this.binding&&this.binding.notify(this.target)}propertyCommitted(e,t){this.binding&&(this.moveBackward(e,t),this.moveForward(),this.binding.notify(this.target))}moveBackward(e,t){const r=this.stack;let n=r[r.length-1];for(;n.properties!==e&&n.propertyName!==t;)n.properties.removeCursor(n.propertyName,this),r.pop(),n=r[r.length-1]}moveForward(){const e=this.stack,t=e[e.length-1];if(1===e.length&&this.binding.conditional&&this.binding.conditional[e.length-1]&&!t.properties.metadatas[t.propertyName])return;const r=t.properties.internalGet(t.propertyName),n=Object(o.a)(r);if(n&&this.binding.chain&&e.length<this.binding.chain.length){const t=this.binding.chain[e.length];if(this.binding.conditional&&this.binding.conditional[e.length]&&!n.metadatas[t])return;this.stack.push({properties:n,propertyName:t}),n.addCursor(t,this),this.moveForward()}}}class c{constructor(e){this.cursors=e}remove(){const e=this.cursors;for(;e.length>0;)e.pop().destroy();this.cursors=null}}class u{constructor(e){this.cursor=e}remove(){this.cursor=Object(n.d)(this.cursor)}}function l(e,t){const r=Object(o.i)(e);if(Array.isArray(r)){const e=[];for(const n of r)e.push(new i(n,t));return function(t){const r=[];for(let n=0;n<e.length;n++)r[n]=e[n].install(t);return new c(r)}}{const e=new i(r,t);return function(t){return new u(e.install(t))}}}function f(e,t,r){const n=Object(o.i)(t);if(Array.isArray(n)){const t=[];for(const o of n)t.push(new i(o,r).install(e));return new c(t)}const s=new i(n,r).install(e);return new u(s)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return f}));var n=r(3),o=r(7),i=r(6),s=r(28);const a=Object(n.a)("esri-debug-messages"),c=o.a.getLogger("esri.core.accessorSupport.extensions.computedProperty"),u={processClassPropertyMetadata(e,t,r,n){if(a){const o=t.dependsOn;o&&o.length&&o.map(e=>e.split(".")[0]).forEach(t=>{"?"!==t[t.length-1]&&null==r[t]&&c.error(`[accessor] class '${n}' - property '${e}' depends on unknown property '${t}' which hasn't been found during introspection. This can be fix by adding '${t}' to the metadata for example.`)})}t.dependsOn&&t.dependsOn.length&&(t.wire=Object(s.a)(t.dependsOn,t=>{var r;return null==(r=Object(i.a)(t))?void 0:r.propertyInvalidated(e)}))},instanceCreated(e,t,r){for(const n of r){const r=t[n];r.wire&&r.wire(e)}}};const l=[u,r(53).a];function f(e,t){for(const r of l)if(r.processPrototypePropertyMetadata)for(const n in e){const o=e[n];r.processPrototypePropertyMetadata(n,o,e,t)}}function d(e,t){for(const r of l)if(r.processClassPropertyMetadata)for(const n in e){const o=e[n];r.processClassPropertyMetadata(n,o,e,t)}}function h(e,t){const r=Object.getOwnPropertyNames(t);for(const n of l)n.instanceCreated&&n.instanceCreated(e,t,r)}},function(e,t,r){"use strict";var n=r(7),o=r(13),i=r(17),s=r(35),a=r(26),c=r(54),u=r(25),l=r(3),f=r(8),d=r(29),h=r(31),p=r(27),b=r(21);class g{constructor(){this._values=new Map}clone(e){const t=new g;return this._values.forEach((r,n)=>{e&&e.has(n)||t.set(n,Object(f.a)(r))}),t}get(e){return this._values.get(e)}originOf(){return 6}keys(){return Object(b.f)(this._values)}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}const m=n.a.getLogger("esri.core.accessorSupport.Properties");function y(e,t){return!!t.metadatas[e]||(Object(l.a)("esri-debug-messages")&&m.warn(`cannot access unknown property '${e}' on instance of ${t.host.declaredClass}.`),!1)}function _(e,t,r,n){return!e.nonNullable||null!=r||(0!==n.host.__accessor__.lifecycle&&Object(l.a)("esri-debug-messages")&&m.warn(`cannot set non-nullable property '${t}' to null on ${n.host.declaredClass}.`),!1)}const v=new p.a(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var O=class{constructor(e){this.host=e,this._origin=6,this.cursors=null,this.ctorArgs=null,this.destroyed=!1,this.dirties={},this.lifecycle=0,this.overridden=null,this.store=new g;const t=this.host.constructor.__accessorMetadata__;this.metadatas=t.properties,this.autoDestroy=t.autoDestroy}initialize(){this.lifecycle=1,Object(d.a)(this.host,this.metadatas)}constructed(){this.lifecycle=2}destroy(){this.destroyed=!0;const e=this.cursors;if(e)for(const t of Object.getOwnPropertyNames(e)){const r=e[t];if(r){for(;r.length>0;)r.pop().propertyDestroyed(this,t);e[t]=null}}if(this.autoDestroy)for(const e in this.metadatas){const r=this.internalGet(e);r&&(t=r)&&"function"==typeof t.destroy&&(r.destroy(),this.metadatas[e].nonNullable||this.internalSet(e,null))}var t}get initialized(){return 0!==this.lifecycle}clearOverride(e){this.isOverridden(e)&&(this.overridden[e]=!1,this.propertyInvalidated(e))}get(e){y(e,this);const t=this.metadatas[e],r=t.get;if(this.store.has(e)&&(!r||!this.dirties[e]))return this.store.get(e);if(r){const t=r.call(this.host);return this.store.set(e,t,1),this.propertyCommitted(e),t}return t.value}getterComputed(e,t){var r;if(this.store.has(e)&&!this.dirties[e])return this.store.get(e);const n=null==(r=t.get)?void 0:r.call(this.host);return this.store.set(e,n,1),this.propertyCommitted(e),n}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.metadatas[e];if(t&&t.hasOwnProperty("value"))return"defaults"}return Object(h.b)(t)}has(e){return!!this.metadatas[e]&&this.store.has(e)}internalGet(e){if(!y(e,this))return;const t=this.store;return t.has(e)?t.get(e):this.metadatas[e].value}internalSet(e,t){return this.setAtOrigin(e,t,this.initialized?this._origin:0)}setAtOrigin(e,t,r){if(!y(e,this))return;const n=this.store.get(e);(!Object(f.b)(t,n)||r!==this.store.originOf(e)||!this.store.has(e,r)||this.isOverridden(e))&&(this.propertyInvalidated(e),this.store.set(e,t,r),this.propertyCommitted(e))}isOverridden(e){return null!=this.overridden&&!0===this.overridden[e]}keys(){return Object.keys(this.metadatas)}override(e,t){if(!y(e,this))return;this.overridden||(this.overridden={});const r=this.metadatas[e];if(!_(r,e,t,this))return;const n=r.cast;if(n){const e=this.cast(n,t),{valid:r,value:o}=e;if(v.release(e),!r)return;t=o}this.overridden[e]=!0,this.internalSet(e,t)}set(e,t){if(!y(e,this))return;const r=this.metadatas[e];if(!_(r,e,t,this))return;const n=r.set,o=r.cast;if(o){const e=this.cast(o,t),{valid:r,value:n}=e;if(v.release(e),!r)return;t=n}n?n.call(this.host,t):this.internalSet(e,t)}setDefaultOrigin(e){this._origin=Object(h.d)(e)}getDefaultOrigin(){return Object(h.b)(this._origin)}propertyInvalidated(e){const t=this.dirties;this.isOverridden(e)||(t[e]=!0);const r=this.cursors&&this.cursors[e];if(r)for(const t of r)t.propertyInvalidated(this,e)}propertyCommitted(e){const t=this.cursors&&this.cursors[e];if(this.dirties[e]=!1,t)for(const r of t)r.propertyCommitted(this,e)}addCursor(e,t){this.cursors||(this.cursors={});let r=this.cursors[e];r||(this.cursors[e]=r=[]),r.push(t)}removeCursor(e,t){const r=this.cursors;if(!r)return;const n=r[e];n&&(n.splice(n.indexOf(t),1),0===n.length&&(r[e]=null))}cast(e,t){const r=v.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}},w=r(6),j=r(28),E=r(51),T=r(2);class S extends p.a{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Object(T.l)(this._set)}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}var A=r(48);class k{constructor(){this.uid=0,this.target=null,this.path=null,this.oldValue=null,this.callback=null,this.removed=!1,this.propertyPath=null}acquire(e,t,r,n){this.target=e,this.path=t,this.oldValue=r,this.callback=n,this.propertyPath=Object(w.h)(t),this.uid=++k.uid,this.removed=!1}release(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++k.uid,this.removed=!0}}k.pool=new S(k),k.uid=0;const I=new E.a,P=new Set;let x,C=I.acquire();function R(e){P.has(e)?C.splice(C.indexOf(e),1):P.add(e),C.push(e),x||(x=Object(A.b)(N))}function M(e){if(e.removed)return;const{callback:t,path:r,propertyPath:n,oldValue:i,target:s}=e,a=Object(o.c)(s,n,!0);L(i,a)&&(e.oldValue=a,t.call(s,a,i,r,s))}function L(e,t){return!Object(f.b)(e,t)}function N(){let e=10;for(;x&&e--;){x=null;const e=C;C=I.acquire(),P.clear();const t=I.acquire();for(const r of e){const e=r.uid;M(r),e===r.uid&&r.removed&&t.push(r)}for(let e=0;e<C.length;e++){const r=C[e];r.removed&&(t.push(r),P.delete(r),C.splice(e,1),e-=1)}for(let e=0;e<t.length;e++)k.pool.release(t[e]);I.release(e),I.release(t),U.forEach(e=>e())}}const U=new Set;function F(e,t,r,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?function(e,t,r){const n=Object(w.e)(e,t,r,(e,t,r)=>{let i=Object(o.c)(e,t,!0),s=!1;return Object(j.b)(e,t,(e,t)=>{if(e&&!e.__accessor__.destroyed){if(!s&&t){s=!0;const n=Object(o.c)(e,t,!0);L(i,n)&&r.call(e,n,i,t,e),i=Object(o.c)(e,t,!0),s=!1}}else n.remove()})});return n}(e,t,r):function(e,t,r){let n=Object(w.e)(e,t,r,(e,t,r)=>{let i,s,a=Object(o.c)(e,t,!0),c=Object(j.b)(e,t,(e,t)=>{e.__accessor__.destroyed||i&&i.uid!==s?n.remove():(i||(i=k.pool.acquire(e,t,a,r),s=i.uid,a=null),R(i))});return{remove:Object(w.d)((function(){c.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,R(i)),i=null),n=c=a=null}))}});return n}(e,t,r)}function q(e){const t=typeof e;return null==e?{value:e}:Array.isArray(e)?{type:[e[0]],value:null}:"object"===t?e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e:"boolean"===t?{type:Boolean,value:e}:"string"===t?{type:String,value:e}:"number"===t?{type:Number,value:e}:"function"===t?{type:e,value:null}:void 0}class D{constructor(...e){if(this.constructor===D)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new O(this)}),e.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,e))}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const o=this;class s extends o{constructor(...e){super(...e),this.inherited=null,n&&n.apply(this,e)}}Object(i.a)(s.prototype);for(const t in e){const r=e[t];s.prototype[t]="function"==typeof r?function(...e){const n=this.inherited;this.inherited=function(...e){if(o.prototype[t])return o.prototype[t].apply(this,e)};let i=void 0;try{i=r.apply(this,e)}catch(e){throw this.inherited=n,e}return this.inherited=n,i}:e[t]}for(const e in t){const r=q(t[e]);Object(a.b)(r)(s.prototype,e)}return Object(u.a)(r)(s)}postscript(e){const t=this.__accessor__,r=t.ctorArgs||e;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(function(e){for(let t=0;t<C.length;t++){const r=C[t];r.target===e&&(r.removed=!0)}}(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}get(e){return Object(o.b)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}isInstanceOf(e){return Object(c.b)(n.a.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return Object(s.a)(this,e,t),this}watch(e,t,r){return F(this,e,t,r)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_override(e,t){return this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.propertyInvalidated(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}t.a=D},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return i}));var n=r(2);const o=7;function i(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function s(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(n.c)(void 0)}function a(e){return s(e)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));r(50),r(11);Symbol.iterator;function n(e){return e&&"function"==typeof e[Symbol.iterator]}function o(e){return e&&"number"==typeof e.length}},function(e,t,r){"use strict";var n=r(15);class o{constructor(e,t,r){var i;this.name=e,this.details=r,this.message=void 0,this instanceof o&&(this.message=t&&(i=r,t.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,t){if(""===t)return"$";const r=Object(n.b)(t,i),o=null==r?"":r;if(void 0===o)throw new Error(`could not find key "${t}" in template`);return o.toString()})))||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=o},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(3),o=r(7),i=r(13);const s=o.a.getLogger("esri.core.accessorSupport.set");function a(e,t,r){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))a(e,r,t[r]);else{if(-1!==t.indexOf(".")){const n=t.split("."),o=n.splice(n.length-1,1)[0];return void a(Object(i.b)(e,n),o,r)}if(Object(n.a)("esri-debug-messages")){const r=e.__accessor__;null==r||r.metadatas[t]||s.warn("setting unknown property '"+t+"' on instance of "+r.host.declaredClass)}e[t]=r}}},function(e,t,r){"use strict";function n(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(3);function o(e){Object(n.a)("esri-debug-messages")&&console.error(`Should never be reached (uncaught value ${e})`,(new Error).stack)}function i(e){return()=>e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r(15),o=r(7),i=r(17),s=r(47),a=r(36);const c=o.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function u(e,t,r){var o,i,s;e&&(!r&&!t.read||(null==(o=t.read)?void 0:o.reader)||!1===(null==(i=t.read)?void 0:i.enabled)||("types"in(s=e)?g(s.types):b(s.type))&&Object(n.c)("read.reader",l(e),t))}function l(e){var t;const r=null!=(t=e.ndimArray)?t:0;if(r>1)return function(e){var t;const r=f(e),n=d.bind(null,r),o=null!=(t=e.ndimArray)?t:0;return(e,t,r)=>{if(null==e)return e;e=n(e,r,o);let i=o,s=e;for(;i>0&&Array.isArray(s);)i--,s=s[0];if(void 0!==s)for(let t=0;t<i;t++)e=[e];return e}}(e);if(1===r)return h(e);if("type"in e&&p(e.type)){var n,o;const t=null==(n=e.type.prototype)||null==(o=n.itemType)?void 0:o.Type,r=h("function"==typeof t?{type:t}:{types:t});return(t,n,o)=>{const i=r(t,n,o);return i?new e.type(i):i}}return f(e)}function f(e){return"type"in e?function(e){return e.prototype.read?(t,r,n)=>{if(null==t)return t;const o=typeof t;if("object"!==o)return void c.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${o}'`);const i=new e;return i.read(t,n),i}:e.fromJSON}(e.type):function(e){var t;let r=null;const n=null!=(t=e.errorContext)?t:"type";return(t,o,a)=>{if(null==t)return t;const u=typeof t;if("object"!==u)return void c.error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);r||(r=function(e){const t={};for(const o in e.typeMap){var r,n;const s=e.typeMap[o],a=Object(i.a)(s.prototype);if("function"==typeof e.key)continue;const c=a.properties[e.key];if(!c)continue;(null==(r=c.json)?void 0:r.type)&&Array.isArray(c.json.type)&&1===c.json.type.length&&"string"==typeof c.json.type[0]&&(t[c.json.type[0]]=s);const u=null==(n=c.json)?void 0:n.write;if(!u||!u.writer){t[o]=s;continue}const l=u.target,f="string"==typeof l?l:e.key,d={};u.writer(o,d,f),d[f]&&(t[d[f]]=s)}return t}(e));const l=e.key;if("string"!=typeof l)return;const f=t[l],d=f?r[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const e=`Type '${f||"unknown"}' is not supported`;return a&&a.messages&&t&&a.messages.push(new s.a(n+":unsupported",e,{definition:t,context:a})),void c.error(e)}const h=new d;return h.read(t,a),h}}(e.types)}function d(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map(t=>d(e,t,r,n-1)):e(t,void 0,r)}function h(e){const t=f(e);return(e,r,n)=>{if(null==e)return e;if(Array.isArray(e)){const r=[];for(const o of e){const e=t(o,void 0,n);void 0!==e&&r.push(e)}return r}const o=t(e,void 0,n);return void 0!==o?[o]:void 0}}function p(e){if(!Object(a.a)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?b(t.Type):g(t.Type))}function b(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||p(e))}function g(e){for(const t in e.typeMap)if(!b(e.typeMap[t]))return!1;return!0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c}));var n=r(15),o=r(36);function i(e,t){var r;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const i=null!=(r=null==e?void 0:e.ndimArray)?r:0;var a;e&&(1===i||"type"in e&&Object(o.a)(e.type))?t.write.writer=u:t.write.writer=i>1?(a=i,function(e,t,r,o){let i;if(null===e)i=null;else{i=l(e,o,a);let t=a,r=i;for(;t>0&&Array.isArray(r);)t--,r=r[0];if(void 0!==r)for(let e=0;e<t;e++)i=[i]}Object(n.c)(r,i,t)}):s}function s(e,t,r,o){Object(n.c)(r,a(e,o),t)}function a(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?c(e):e}function c(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function u(e,t,r,o){let i;null===e?i=null:e&&"function"==typeof e.map?(i=e.map(e=>a(e,o)),"function"==typeof i.toArray&&(i=i.toArray())):i=[a(e,o)],Object(n.c)(r,i,t)}function l(e,t,r){return 0!==r&&Array.isArray(e)?e.map(e=>l(e,t,r-1)):a(e,t)}},function(e,t,r){"use strict";var n=r(1);r(20);const o=n.a.queueMicrotask?n.a.queueMicrotask:e=>{n.a.Promise.resolve().then(e)},i=[];let s=[];function a(e){i.push(e),1===i.length&&o(()=>{for(const e of s)e();const e=i.slice();i.length=0;for(const t of e)t()})}(a||(a={})).before=function(e){return s.push(e),{remove(){s=s.filter(t=>t!==e)}}};var c=a;t.a=c},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1);function o(){const e=i.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const i=n.a.crypto||n.a.msCrypto},function(e,t,r){"use strict";r.r(t),r.d(t,"addOrUpdateResource",(function(){return c})),r.d(t,"contentToBlob",(function(){return h})),r.d(t,"fetchResources",(function(){return a})),r.d(t,"getSiblingOfSameType",(function(){return p})),r.d(t,"getSiblingOfSameTypeI",(function(){return b})),r.d(t,"removeAllResources",(function(){return l})),r.d(t,"removeResource",(function(){return u})),r.d(t,"resourceContentExtension",(function(){return m})),r.d(t,"resourceContentType",(function(){return g})),r.d(t,"splitPrefixFileNameAndExtension",(function(){return d}));var n=r(2),o=r(10),i=r(4),s=r(43);async function a(e,t={},r){await e.load(r);const o=Object(i.w)(e.itemUrl,"resources"),{start:s=1,num:a=10,sortOrder:c="asc",sortField:u="created"}=t,l={query:{start:s,num:a,sortOrder:c,sortField:u},signal:Object(n.f)(r,"signal")},f=await e.portal._request(o,l);return{total:f.total,nextStart:f.nextStart,resources:f.resources.map(({created:t,size:r,resource:n})=>({created:new Date(t),size:r,resource:e.resourceFromPath(n)}))}}async function c(e,t,r,s){if(!e.hasPath())throw new o.a(`portal-item-resource-${t}:invalid-path`,"Resource does not have a valid path");await e.portalItem.load(s);const a=Object(i.w)(e.portalItem.userItemUrl,"add"===t?"addResources":"updateResources"),[c,u]=f(e.path),l=await h(r),d=new FormData;return c&&"."!==c&&d.append("resourcesPrefix",c),d.append("fileName",u),d.append("file",l,u),d.append("f","json"),Object(n.h)(s)&&s.access&&d.append("access",s.access),await e.portalItem.portal._request(a,{method:"post",body:d,signal:Object(n.f)(s,"signal")}),e}async function u(e,t,r){if(!t.hasPath())throw new o.a("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await e.load(r);const s=Object(i.w)(e.userItemUrl,"removeResources");await e.portal._request(s,{method:"post",query:{resource:t.path},signal:Object(n.f)(r,"signal")}),t.portalItem=null}async function l(e,t){await e.load(t);const r=Object(i.w)(e.userItemUrl,"removeResources");return e.portal._request(r,{method:"post",query:{deleteAll:!0},signal:Object(n.f)(t,"signal")})}function f(e){const t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=function(e){const t=Object(i.m)(e);return Object(n.g)(t)?[e,""]:[e.slice(0,e.length-t.length-1),"."+t]}(e),[o,s]=f(t);return[o,s,r]}async function h(e){return e instanceof Blob?e:(await Object(s.default)(e.url,{responseType:"blob"})).data}function p(e,t){if(!e.hasPath())return null;const[r,,n]=d(e.path);return e.portalItem.resourceFromPath(Object(i.w)(r,t+n))}function b(e,t){if(!e.hasPath())return null;const[r,,n]=d(e.path);return e.portalItem.resourceFromPath(Object(i.w)(r,t+n))}function g(e){return e instanceof Blob?e.type:function(e){const t=Object(i.m)(e);return y[t]||v}(e.url)}function m(e){return _[g(e)]||O}const y={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"},_={};for(const e in y)_[y[e]]=e;const v="text/plain",O=_[v]},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(3),i=(r(20),r(8)),s=r(11),a=r(19),c=r(2),u=r(10),l=r(4),f=r(12),d=r(5),h=r(56);async function p(e,t){const i=Object(l.t)(e),s=Object(l.s)(e);s||i||(e=Object(l.A)(e));const a={url:e,requestOptions:{...Object(c.m)(t)}};let h=Object(l.k)(e);if(h){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(e){r=w("request:interceptor",e,t)}if((n instanceof Error||n instanceof u.a)&&(r=w("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}(h,a);if(null!=e)return{data:e,getHeader:O,requestOptions:a.requestOptions,url:a.url};h.after||h.error||(h=null)}if(e=a.url,"image"===(t=a.requestOptions).responseType){if(Object(o.a)("host-webworker")||Object(o.a)("host-node"))throw w("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),a)}else if(i)throw w("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),a);if("head"===t.method){if(t.body)throw w("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),a);if(i||s)throw w("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),a)}if(await async function(){Object(o.a)("host-webworker")?b||(b=await r.e(195).then(r.bind(null,62))):p._abortableFetch||(Object(o.a)("esri-abortable-fetch")?p._abortableFetch=n.a.fetch.bind(n.a):p._abortableFetch=(await r.e(150).then(r.bind(null,63))).fetch)}(),b)return b.execute(e,t);const y=Object(d.c)();Object(d.o)(t,()=>y.abort());const _={controller:y,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:h,params:a,redoRequest:!1,useIdentity:g.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=await async function(e){let t,r;await async function(e){const t=e.params.url,r=e.params.requestOptions,o=e.controller.signal,i=r.body;let s=null,a=null,c=null;if(m&&"HTMLFormElement"in n.a&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(a=i,s=new FormData(a))),"string"==typeof i&&(c=i),e.fetchOptions={cache:r.cacheBust&&!p._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(s||c)&&(e.fetchOptions.body=s||c),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||s&&s.get&&s.get("token")||a&&a.elements.token),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!E(t)&&!Object(d.e)(o)){let n;"immediate"===r.authMode?(await j(),n=await f.a.getCredential(t,{signal:o}),e.credential=n):"no-prompt"===r.authMode?(await j(),n=await f.a.getCredential(t,{prompt:!1,signal:o}).catch(()=>{}),e.credential=n):f.a&&(n=f.a.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[t,r]=await T(e)}while(!await A(e,t,r))}catch(r){const n=w("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const o=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)&&!e.hasToken&&!e.credentialToken&&r&&r.user&&r.user.username&&!Object(l.v)(o)){const e=Object(l.l)(o,!0);e&&g.trustedServers.push(e)}const i=e.credential;if(i&&f.a){const e=f.a.findServerInfo(i.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=f.a.findCredential(t,i.userId);e&&-1===f.a._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t.headers.get(e):O,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(_);return h&&h.after&&h.after(v),v}let b;const g=a.a.request,m="FormData"in n.a,y=[499,498,403,401],_=["COM_0056","COM_0057","SB_0008"],v=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],O=()=>null;function w(e,t,r,n){let o="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:O,ssl:!1};if(t instanceof u.a)return t.details?(t.details=Object(i.a)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const e=n&&(e=>n.headers.get(e)),r=n&&n.status,i=t.message;i&&(o=i),e&&(s.getHeader=e),s.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,s.subCode=t.subcode,s.messageCode=t.messageCode,"string"==typeof t.details?s.messages=[t.details]:s.messages=t.details}return Object(d.b)(t)?Object(d.d)():new u.a(e,o,s)}async function j(){f.a||await Promise.all([r.e(14),r.e(35)]).then(r.bind(null,64))}function E(e){return v.some(t=>t.test(e))}async function T(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions,i=Object(l.s)(t)||Object(l.t)(t),a=r.responseType||"json",c=i?0:null!=r.timeout?r.timeout:g.timeout;let u=!1;if(!i){e.useSSL&&(t=Object(l.G)(t)),r.cacheBust&&"default"===n.cache&&(t=Object(l.d)(t,"request.preventCache",Date.now()));let i={...r.query};e.credentialToken&&(i.token=e.credentialToken);let s=Object(l.B)(i);Object(o.a)("esri-url-encodes-apostrophe")&&(s=s.replace(/'/g,"%27"));const a=t.length+1+s.length;let c;u="post"===r.method||!!r.body||a>g.maxUrlLength;const d=r.useProxy||!!Object(l.n)(t);if(d){const e=Object(l.o)(t);c=e.path,!u&&c.length+1+a>g.maxUrlLength&&(u=!0),e.query&&(i={...e.query,...i})}if("HEAD"===n.method&&(u||d)){if(u){if(a>g.maxUrlLength)throw w("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw w("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw w("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(n.method="POST",r.body?t=Object(l.e)(t,i):(n.body=Object(l.B)(i),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Object(l.e)(t,i),d&&(e.useProxy=!0,t=`${c}?${t}`),i.token&&m&&n.body instanceof FormData){const e=n.body;e.set?e.set("token",i.token):e.append("token",i.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(Object(l.v)(t))e.withCredentials=!0;else if(f.a){const r=f.a.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(n.credentials="include")}let h,b,y=0,_=!1;c>0&&(y=setTimeout(()=>{_=!0,e.controller.abort()},c));try{if("image"!==r.responseType||"default"!==n.cache||"GET"!==n.method||u||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!i&&!e.useProxy&&g.proxyUrl&&!function(e){const t=Object(l.l)(e);return!t||Object(s.b)(t,".arcgis.com")||-1!==p._corsServers.indexOf(t)||Object(l.v)(t)}(t)){if(h=await p._abortableFetch(t,n),e.useProxy||function(e){if(Object(l.s)(e)||Object(l.t)(e))return;const t=Object(l.l)(e);t&&-1===p._corsServers.indexOf(t)&&p._corsServers.push(t)}(t),h.ok&&"HEAD"!==n.method){switch(a){case"array-buffer":b=await h.arrayBuffer();break;case"blob":case"image":b=await h.blob();break;default:b=await h.text()}if(y&&(clearTimeout(y),y=0),"json"===a||"xml"===a||"document"===a)if(b)switch(a){case"json":b=JSON.parse(b);break;case"xml":b=S(b,"application/xml");break;case"document":b=S(b,"text/html")}else b=null;if(b){if("array-buffer"===a||"blob"===a){const e=h.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&b["blob"===a?"size":"byteLength"]<=750)try{const e=await new Response(b).json();e.error&&(b=e)}catch{}}"image"===a&&b instanceof Blob&&(b=await k(URL.createObjectURL(b),e,!0))}}}else b=await k(t,e)}catch(n){if("AbortError"===n.name){if(_)throw new Error("Timeout exceeded");throw Object(d.d)("Request canceled")}if(!(!h&&n instanceof TypeError&&g.proxyUrl)||r.body||"post"===r.method||"head"===r.method||e.useProxy)throw n;e.redoRequest=!0,Object(l.c)({proxyUrl:g.proxyUrl,urlPrefix:Object(l.D)(Object(l.H)(t).path)})}finally{y&&clearTimeout(y)}return[h,b]}function S(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function A(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;if(!t)return!0;if(!t.ok)throw new Error(`Unable to load ${t.url} status: ${t.status}`);let n,o,s,a;r&&r.error&&(n=Object(i.d)(new Error,r.error)),n&&(o=Number(n.code),s=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a&&a.toUpperCase());const c=e.params.requestOptions.authMode;if(403===o&&(4===s||n.message&&n.message.toLowerCase().indexOf("ssl")>-1&&-1===n.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(e.useIdentity&&("no-prompt"!==c||498===o)&&-1!==y.indexOf(o)&&!E(e.params.url)&&(403!==o||-1===_.indexOf(a)&&(null==s||2===s&&e.credentialToken))){await j();try{const t=await f.a.getCredential(e.params.url,{error:w("request:server",n,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===c)return e.credential=null,e.credentialToken=null,!1;n=t}}if(n)throw n;return!0}function k(e,t,r=!1){const n=t.controller.signal,o=new Image;return t.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.src=e,Object(h.a)(o,e,r,n)}p._abortableFetch=null,p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],t.default=p},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s}));var n=r(15);r(11);const o=/\{([^\}]+)\}/g;function i(e){return null==e?"":e}function s(e,t){return e.replace(o,"object"==typeof t?(e,r)=>i(Object(n.b)(r,t)):(e,r)=>i(t(r)))}function a(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,e=>t&&-1!==t.indexOf(e)?e:"\\"+e)}function c(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}},function(e,t,r){"use strict";class n{constructor(e=1){this._seed=e}set seed(e){this._seed=null==e?Math.random()*n._m:e}getInt(){return this._seed=(n._a*this._seed+n._c)%n._m,this._seed}getFloat(){return this.getInt()/(n._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const r=t-e,o=this.getInt()/n._m;return e+Math.floor(o*r)}}n._m=2147483647,n._a=48271,n._c=0,t.a=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return g})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return p})),r.d(t,"i",(function(){return b})),r.d(t,"j",(function(){return s}));r(8);var n=r(5),o=r(22);function i(e,t,r,n,o){const i=e.watch(t,(t,o,i,s)=>{r&&!r(t)||null==n||n.call(e,t,o,i,s)},o);if(Array.isArray(t))for(const o of t){const i=e.get(o);r&&r(i)&&(null==n||n.call(e,i,i,t,e))}else{const o=e.get(t);r&&r(o)&&(null==n||n.call(e,o,o,t,e))}return i}function s(e,t,r,o,s){const a="function"==typeof o?o:null,c="object"==typeof o?o:null;"boolean"==typeof o&&(s=o);let u,l=!1;function f(){u&&(u.remove(),u=null)}const d=Object(n.l)();Object(n.o)(c,()=>{f(),d.reject(Object(n.d)())});const h={then:d.promise.then.bind(d.promise),catch:d.promise.catch.bind(d.promise),remove:f};return Object.freeze(h),u=i(e,t,r,(t,r,n,o)=>{l=!0,f(),a&&a.call(e,t,r,n,o),d.resolve({value:t,oldValue:r,propertyName:n,target:o})},s),l&&f(),h}function a(e){return!!e}function c(e){return!0===e}function u(e){return!1===e}const l=/\?(\.|$)/g;function f(e,t,r,n){const o=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],i=d(e,t,r,n);for(const t of o){const n=t.trim().replace(l,"$1"),o=e.get(n);r.call(e,o,o,n,e)}return i}function d(e,t,r,n){return e.watch(t,r,n)}function h(e,t,r,n){return i(e,t,a,r,n)}function p(e,t,r,n){return s(e,t,a,r,n)}function b(e,t,r,n){return s(e,t,c,r,n)}function g(e,t,r,n){return i(e,t,u,r,n)}function m(e,t,r,n){return s(e,t,u,r,n)}function y(e,t,r,n){let o=!1;const i=e.watch(t,(t,n,i,s)=>{o||r.call(e,t,n,i,s)},n);return{remove(){i.remove()},pause(){o=!0},resume(){o=!1}}}function _(e,t,r,n,i,s,a){const c={};function u(t){const n=c[t];n&&(s&&s(n.target,t,e,r),n.handle.remove(),delete c[t])}const l=f(e,t,(t,s,a)=>{u(a),Object(o.b)(t)&&(c[a]={handle:Object(o.c)(t,r,n),target:t},i&&i(t,a,e,r))},a);return{remove(){l.remove();for(const e in c)u(e)}}}},function(e,t,r){"use strict";var n=r(34);class o extends n.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof o))return new o(e,t,r)}}o.prototype.type="warning",t.a=o},function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return T}));var n=r(2),o=r(5),i=r(40),s=r(23);class a{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class c{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let u=-1,l=0;const f={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},d=["prepare","preRender","render","postRender","update"],h=[],p=new s.a;class b{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const g={frameTasks:p,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(e=!1){p.forEachSimple(e=>{e.removed=!0}),e&&w()},dispatch:j,executeFrameTasks:function(e=performance.now()){u<0&&(u=e);const t=e-u,r=l>0?l:1e3/60,n=Math.max(0,t-r);u=e;for(let o=0;o<d.length;o++){const i=d[o];p.forEachSimple(s=>{var a;s.paused||s.removed||(0===o&&s.ticks++,s.phases[i]&&(f.time=e,f.deltaTime=0===s.ticks?0:t,f.elapsedFrameTime=performance.now()-e,f.frameDuration=r-n,null==(a=s.phases[i])||a.call(s,f)))})}w()}};function m(e){const t=new c(e);return h.push(t),g.willDispatch||(g.willDispatch=!0,Object(i.a)(j)),t}function y(e){const t=new a(e);return p.push(t),g.rafId||(u=-1,g.rafId=v()),new b(t)}function _(e=performance.now()){g.rafId=null,p.length>0&&(g.rafId=v()),g.executeFrameTasks(e)}function v(){return g.requestNextFrame?g.requestNextFrame(E):E()}const O=new s.a;function w(){p.forEachSimple(e=>{e.removed&&O.push(e)}),p.removeUnorderedMany(O.data,O.length),O.clear()}function j(){for(;h.length;){const e=Object(n.c)(h.shift());e.isActive&&e.callback()}g.willDispatch=!1}function E(){return requestAnimationFrame(_)}function T(e=1,t){const r=Object(o.g)(),n=()=>{Object(o.e)(t)?r.reject(Object(o.d)()):0===e?r():(--e,Object(i.a)(()=>n()))};return n(),r.promise}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2);function o(e){return i(()=>e.forEach(e=>Object(n.h)(e)&&e.remove()))}function i(e){return{remove:()=>{e&&(e(),e=void 0)}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);let o=n.c.Symbol;if(!Object(n.d)("es6-symbol")){const e=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e},t=Object.defineProperties,r=Object.defineProperty,s=Object.create,a=Object.prototype,c={},u=function(){const e=s(null);return function(t){let o,i=0;for(;e[String(t)+(i||"")];)++i;return t+=String(i||""),e[t]=!0,o="@@"+t,Object.getOwnPropertyDescriptor(a,o)||r(a,o,{set:function(e){r(this,o,Object(n.b)(e))}}),o}}(),l=function e(t){if(this instanceof l)throw new TypeError("TypeError: Symbol is not a constructor");return e()};o=n.c.Symbol=function e(r){if(this instanceof e)throw new TypeError("TypeError: Symbol is not a constructor");const o=Object.create(l.prototype);return r=void 0===r?"":String(r),t(o,{__description__:Object(n.b)(r),__name__:Object(n.b)(u(r))})},r(o,"for",Object(n.b)((function(e){return c[e]?c[e]:c[e]=o(String(e))}))),t(o,{keyFor:Object(n.b)((function(t){let r;for(r in e(t),c)if(c[r]===t)return r})),hasInstance:Object(n.b)(o.for("hasInstance"),!1,!1),isConcatSpreadable:Object(n.b)(o.for("isConcatSpreadable"),!1,!1),iterator:Object(n.b)(o.for("iterator"),!1,!1),match:Object(n.b)(o.for("match"),!1,!1),observable:Object(n.b)(o.for("observable"),!1,!1),replace:Object(n.b)(o.for("replace"),!1,!1),search:Object(n.b)(o.for("search"),!1,!1),species:Object(n.b)(o.for("species"),!1,!1),split:Object(n.b)(o.for("split"),!1,!1),toPrimitive:Object(n.b)(o.for("toPrimitive"),!1,!1),toStringTag:Object(n.b)(o.for("toStringTag"),!1,!1),unscopables:Object(n.b)(o.for("unscopables"),!1,!1)}),t(l.prototype,{constructor:Object(n.b)(o),toString:Object(n.b)((function(){return this.__name__}),!1,!1)}),t(o.prototype,{toString:Object(n.b)((function(){return"Symbol ("+e(this).__description__+")"})),valueOf:Object(n.b)((function(){return e(this)}))}),r(o.prototype,o.toPrimitive,Object(n.b)((function(){return e(this)}))),r(o.prototype,o.toStringTag,Object(n.b)("Symbol",!1,!1,!0)),r(l.prototype,o.toPrimitive,Object(n.b)(o.prototype[o.toPrimitive],!1,!1,!0)),r(l.prototype,o.toStringTag,Object(n.b)(o.prototype[o.toStringTag],!1,!1,!0))}function i(e){return e&&("symbol"==typeof e||"Symbol"===e["@@toStringTag"])||!1}["hasInstance","isConcatSpreadable","iterator","species","replace","search","split","match","toPrimitive","toStringTag","unscopables","observable"].forEach(e=>{o[e]||Object.defineProperty(o,e,Object(n.b)(o.for(e),!1,!1))})},function(e,t,r){"use strict";var n=r(27);const o=Array.prototype.splice;function i(e){e.length=0}class s{constructor(e=50,t=50){this._pool=new n.a(Array,void 0,i,t,e)}acquire(){return this._pool.acquire()}copy(e){const t=this.acquire();return e.unshift(0,0),o.apply(t,e),e.splice(0,2),t}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return a.acquire()}static copy(e){return a.copy(e)}static release(e){return a.release(e)}static prune(){a.prune()}}const a=new s(100);t.a=s},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l}));var n=r(9);var o=r(38);function i(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function s(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function a(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=r(39);function u(e,t){return f(e,"read",t)}function l(e,t){return f(e,"write",t)}function f(e,t,r){let n=e&&e.json;if(e&&e.json&&e.json.origins&&r){const o=e.json.origins[r.origin];o&&("any"===t||t in o)&&(n=o)}return n}const d={processPrototypePropertyMetadata(e,t){(function(e){if(e.json||(e.json={}),s(e.json),a(e.json),i(e.json),e.json.origins)for(const t in e.json.origins)s(e.json.origins[t]),a(e.json.origins[t]),i(e.json.origins[t]);return!0})(t)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const e in r)if(t[e]){const n=t[e];r[e].forEach(e=>{t[e]=n}),delete t[e]}}}(t),function(e){const t=function(e){return e.type?function(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!Object(n.o)(r);)r=r[0],t++;return{type:r,ndimArray:t}}(e):function(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}(e)}(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r];Object(o.a)(t,n,!1),Object(c.a)(t,n)}Object(o.a)(t,e.json,!0),Object(c.a)(t,e.json)}(t))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s}));var n=r(3);const o=new Set;function i(e,t,r={}){if(Object(n.a)("esri-deprecation-warnings")){const{moduleName:n}=r;a(e,"Function: "+(n?n+"::":"")+t+"()",r)}}function s(e,t,r={}){if(Object(n.a)("esri-deprecation-warnings")){const{moduleName:n}=r;a(e,"Property: "+(n?n+"::":"")+t,r)}}function a(e,t,r={}){if(Object(n.a)("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:a}=r;let c=t;n&&(c+="\n\t🛠️ Replacement: "+n),i&&(c+="\n\t⚙️ Version: "+i),s&&(c+=`\n\t🔗 See ${s} for more details.`),function(e,t,r=!1){r&&o.has(t)||(r&&o.add(t),e.warn("🛑 DEPRECATED - "+t))}(e,c,a)}}},function(e,t,r){"use strict";var n=r(5);class o{constructor(e,t,r){this.resolve=e,this.reject=t,this.callback=r}}t.a=class{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(e){return Object(n.f)((t,r)=>this._tasks.push(new o(t,r,e)))}unshift(e){return Object(n.f)((t,r)=>this._tasks.unshift(new o(t,r,e)))}process(){if(0===this._tasks.length)return!1;const e=this._tasks.shift();try{const t=e.callback();t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then?t.then(e.resolve,e.reject):e.resolve(t)}catch(t){e.reject(t)}return!0}cancelAll(){const e=Object(n.d)();for(const t of this._tasks)t.reject(e);this._tasks.length=0}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(3),o=r(2),i=r(5);function s(e,t,r=!1,s){return Object(i.f)((c,u)=>{if(Object(i.e)(s))return void u(a());let l=()=>{h(),u(new Error("Unable to load "+t))},f=()=>{const t=e;h(),c(t)},d=()=>{if(!e)return;const t=e;h(),t.src="",u(a())};const h=()=>{Object(n.a)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",f)),l=null,f=null,e=null,Object(o.h)(s)&&s.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};Object(o.h)(s)&&s.addEventListener("abort",d),Object(n.a)("esri-image-decode")?e.decode().then(f,l):(e.addEventListener("error",l),e.addEventListener("load",f))})}function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}},function(e,t,r){"use strict";r.r(t);var n=r(10),o=r(5),i=r(22);r(20);const s={geometryEngineWorker:()=>Promise.all([r.e(6),r.e(65)]).then(r.bind(null,549)),CSVSourceWorker:()=>Promise.all([r.e(3),r.e(4),r.e(7),r.e(10),r.e(75)]).then(r.bind(null,679)),EdgeProcessingWorker:()=>Promise.all([r.e(22),r.e(72)]).then(r.bind(null,674)),ElevationSamplerWorker:()=>r.e(70).then(r.bind(null,680)),GeoJSONSourceWorker:()=>Promise.all([r.e(3),r.e(4),r.e(7),r.e(10),r.e(52)]).then(r.bind(null,550)),LercWorker:()=>r.e(138).then(r.bind(null,551)),MemorySourceWorker:()=>Promise.all([r.e(3),r.e(4),r.e(7),r.e(10),r.e(53)]).then(r.bind(null,552)),PBFDecoderWorker:()=>Promise.all([r.e(4),r.e(37)]).then(r.bind(null,677)),Pipeline:()=>Promise.all([r.e(1),r.e(2),r.e(3),r.e(4),r.e(31)]).then(r.bind(null,671)),PointCloudWorker:()=>Promise.all([r.e(4),r.e(24),r.e(47)]).then(r.bind(null,676)),RasterWorker:()=>Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(50)]).then(r.bind(null,553)),SceneLayerWorker:()=>r.e(141).then(r.bind(null,681)),WorkerTileHandler:()=>Promise.all([r.e(23),r.e(26),r.e(64)]).then(r.bind(null,672))};var a=r(16),c=r(24),u=(r(3),r(2)),l=r(7),f=(r(9),r(26)),d=r(25),h=(r(4),r(41),r(14)),p=(r(42),r(23)),b=r(30),g=r(46),m=r(55);let y=class extends b.a{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1}};Object(c.a)([Object(f.b)()],y.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),y=Object(c.a)([Object(d.a)("esri.views.support.DebugFlags")],y);var _=new y;const v=l.a.getLogger("esri.views.support.Scheduler");var O,w;(w=O||(O={})).REMOTE_CLIENT="remote client",w.STREAM_DATA_LOADER="stream data loader",w.ELEVATION_QUERY="elevation query",w.TERRAIN_SURFACE="terrain surface",w.SURFACE_GEOMETRY_UPDATES="surface geometry updates",w.I3S_CONTROLLER="I3S controller",w.POINT_CLOUD_LAYER="point cloud",w.FEATURE_TILE_FETCHER="feature fetcher",w.FEATURE_FETCH_QUEUE="feature fetch queue",w.GRAPHICS_CORE="Graphics3D",w.LABELER="labeler",w.GRAPHICS_DECONFLICTOR="graphics deconflictor",w.FILTER_VISIBILITY="Graphics3D filter visibility",w.FEATURE_QUERY_ENGINE="feature query",w.SCALE_VISIBILITY="Graphics3D scale visibility",w.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",w.POINT_OF_INTEREST_FREQUENT="POI frequent",w.POINT_OF_INTEREST_INFREQUENT="POI infrequent",w.FEATURE_TILE_TREE="feature tile tree",w.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",w.ELEVATION_ALIGNMENT="elevation alignment",w.TEXT_TEXTURE_ATLAS="text texture atlas",w.TEXTURE_UNLOAD="texture unload",w.OVERLAY_MANAGER="overlay manager",w.LINE_OF_SIGHT_TOOL="line of sight tool",w.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",w.ELEVATION_PROFILE="elevation profile",w[w.TEST_PRIO=1]="TEST_PRIO";const j={[O.REMOTE_CLIENT]:1,[O.STREAM_DATA_LOADER]:1,[O.FEATURE_FETCH_QUEUE]:1,[O.ELEVATION_QUERY]:1,[O.TERRAIN_SURFACE]:2,[O.SURFACE_GEOMETRY_UPDATES]:2,[O.I3S_CONTROLLER]:4,[O.POINT_CLOUD_LAYER]:4,[O.FEATURE_TILE_FETCHER]:4,[O.GRAPHICS_CORE]:6,[O.LABELER]:6,[O.GRAPHICS_DECONFLICTOR]:6,[O.FILTER_VISIBILITY]:8,[O.FEATURE_QUERY_ENGINE]:8,[O.SCALE_VISIBILITY]:8,[O.FRUSTUM_VISIBILITY]:8,[O.POINT_OF_INTEREST_FREQUENT]:6,[O.POINT_OF_INTEREST_INFREQUENT]:30,[O.FEATURE_TILE_TREE]:16,[O.FEATURE_TILE_TREE_ACTIVE]:1,[O.ELEVATION_ALIGNMENT]:12,[O.TEXT_TEXTURE_ATLAS]:12,[O.TEXTURE_UNLOAD]:12,[O.OVERLAY_MANAGER]:12,[O.LINE_OF_SIGHT_TOOL]:16,[O.LINE_OF_SIGHT_TOOL_INTERACTIVE]:1};function E(e){return e in j?j[e]:"number"==typeof e?e:1}var T,S;!function(e){e.Scheduler=class{constructor(e){this._now=e,this._budget=null,this._state=1,this._tasks=new p.a,this._runQueue=new p.a,this._load=0,this._idleStateCallbacks=new p.a,this._idleUpdatesStartFired=!1,this._maxReschedule=k,this._forceTask=!1,this._safetyBudget=0,this._debug=!1,this._debugHandle=Object(g.a)(_,"SCHEDULER_LOG_SLOW_TASKS",e=>this._debug=e),this._budget=new r(e);const t=this;let n;this._test={get state(){return Object(u.g)(n)?t._state:n},set state(e){n=e},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:33.333333333333336,IDLE_BUDGET:100,get budget(){return t._budget.budget},usedBudget:0,startTime:0,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e)}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(e,r,n){const o=E(e),i=new t(this,e,r,n,o);return this._tasks.push(i),i}registerIdleStateCallbacks(e,t){const r={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(r),2===this.state&&this._idleUpdatesStartFired&&r.idleBegin();const n=this;return{remove:()=>this._removeIdleStateCallbacks(r),set idleBegin(e){n._idleUpdatesStartFired&&(r.idleEnd(),2===n._state&&e()),r.idleBegin=e},set idleEnd(e){r.idleEnd=e}}}get now(){return this._now()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEachSimple(e=>e.idleEnd())))}get state(){return Object(u.g)(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0,this._test.startTime=e.elapsedFrameTime,this._safetyBudget=5;let t=e.frameDuration,r=1;switch(this.state){case 2:this._safetyBudget=0,t=Math.max(100,e.frameDuration),r=30;break;case 1:t=Math.max(33.333333333333336,e.frameDuration)}return t-=e.elapsedFrameTime+this._safetyBudget,2!==this.state&&t<0&&!this._forceTask?(this._forceTask=!0,!1):(t=Math.max(t,r),this._budget.reset(t,this.state),this._maxReschedule=k,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEachSimple(e=>e.idleBegin())),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forEachSimple(t=>{t.name===e&&t.setPriority(e)})}_getState(e){if(this._runQueue.some(t=>t.name===e))return S.SCHEDULED;let t=S.IDLE;return this._tasks.forEachSimple(r=>{r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?t=S.READY:t!==S.READY&&(t=S.WAITING))}),t}_getRuntime(e){let t=0;return this._tasks.forEachSimple(r=>{r.name===e&&(t+=r.runtime)}),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((e,t)=>t.needsUpdate?++e:e,0);this._load=.9*this._load+e*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(e=>!!e.needsUpdate||(e.schedulePriority=e.priority,!1));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forEachSimple(r=>{if(0!==r.schedulePriority&&r.needsUpdate)switch(e=!0,t=Math.max(t,r.priority),r.schedulePriority){case 1:r.schedulePriority=0,this._runQueue.push(r);break;default:--r.schedulePriority}}),!e)return!1;this._maxReschedule===k&&(this._maxReschedule=t),--this._maxReschedule}return!0}_run(){do{for(;this._runQueue.length>0;){const e=this._runQueue.pop();this._budget.resetProgress();const t=this._budget.now();try{e.processQueue(this._budget),!this._budget.done&&e.needsUpdate&&e.update(this._budget)}catch(t){v.error(`Exception in task "${e.name}"`,t)}if(e.schedulePriority=e.priority,e.runtime+=this._budget.now()-t,this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",e.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return}}while(this._schedule())}get test(){return this._test}};let t=class extends b.a{constructor(e,t,r,n,o){super({}),this._scheduler=e,this.name=t,this.update=r,this._needsUpdateCB=n,this._priority=o,this.runtime=0,this._queue=new m.a,this.updating=!1,this.schedulePriority=this._priority}normalizeCtorArgs(){return{}}remove(){this.processQueue(A),this._scheduler.removeTask(this)}get priority(){return this._priority}setPriority(e){this.name=e,this._priority=E(e),0!==this.schedulePriority&&(this.schedulePriority=this._priority)}get task(){return this.name}set task(e){this.setPriority(e)}get needsUpdate(){return this._queue.length>0||this._needsUpdateCB()}schedule(e,t){return this.updating=!0,this._queue.push(()=>(Object(o.t)(t),e()))}reschedule(e,t){return this.updating=!0,this._queue.unshift(()=>(Object(o.t)(t),e()))}processQueue(e){for(;!e.done&&this._queue.process();)e.madeProgress();0===this._queue.length&&(this.updating=!1)}};Object(c.a)([Object(f.b)()],t.prototype,"updating",void 0),t=Object(c.a)([Object(d.a)("esri.views.support.SchedulerTask")],t);class r{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=r}(T||(T={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(S||(S={}));const A=(()=>{const e=new T.Budget(()=>performance.now());return e.enabled=!1,e})(),k=h.a,{CLOSE:I,ABORT:P,INVOKE:x,RESPONSE:C,OPEN_PORT:R,ON:M}=a.a;class L{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===a.a.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class N{constructor(e,t){this._port=e,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new L(e=>this._onInvokeMessage(e)),this._responseQueue=[],this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,t.scheduler&&(this._frameTask=t.scheduler.registerTask(O.REMOTE_CLIENT,e=>this._update(e),()=>this._responseQueue.length>0)),this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(e){const t=new MessageChannel;let r;r="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const n=new N(t.port1,{channel:t,client:r});return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=n),N.clients.set(n,r),t.port2}static loadWorker(e){const t=s[e];return t?t():Object(o.r)(null)}close(){this._post({type:I}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,r){const i=r&&r.signal,s=r&&r.transferList;if(!this._port)return Object(o.h)(new n.a("worker:port-closed",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const c=Object(a.b)();return Object(o.f)((r,n)=>{const a=Object(o.k)(i,()=>{var e;const t=this._outJobs.get(c);t&&(this._outJobs.delete(c),null==(e=t.abortHandle)||e.remove(),this._post({type:P,jobId:c}),n(Object(o.d)()))}),u={resolve:r,reject:n,abortHandle:a,debugInfo:e};this._outJobs.set(c,u),this._post({type:x,jobId:c,methodName:e,abortable:null!=i},t,s)})}on(e,t){const r=new MessageChannel;function n(e){t(e.data)}return this._port.postMessage({type:a.a.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),{remove(){r.port1.postMessage({type:a.a.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",n)}}}openPort(){const e=new MessageChannel;return this._post({type:R,port:e.port2}),e.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{var t;null==(t=e.abortHandle)||t.remove(),e.reject(Object(o.d)(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=null,this._frameTask&&this._frameTask.remove(),this._frameTask=null,this._responseQueue=null}_onMessage(e){const t=Object(a.d)(e);if(t)switch(t.type){case C:this._onResponseMessage(t);break;case x:this._invokeQueue.push(t);break;case P:this._onAbortMessage(t);break;case I:this._onCloseMessage();break;case R:this._onOpenPortMessage(t);break;case M:this._onOnMessage(t)}}_onAbortMessage(e){const t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&N.clients.get(this)===e&&e.destroy(),N.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:r,data:n,abortable:i}=e,s=i?Object(o.c)():null,c=this._inJobs;let u,l=this._client,f=l[t];try{if(!f&&t&&-1!==t.indexOf(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)l=l[e[t]],f=l[e[t+1]]}if("function"!=typeof f)throw new TypeError(t+" is not a function");u=f.call(l,n,{client:this,signal:s?s.signal:null})}catch(e){return void this._post({type:C,jobId:r,error:Object(a.e)(e)})}Object(o.i)(u)?(c.set(r,{controller:s,promise:u}),u.then(e=>{c.has(r)&&(c.delete(r),this._post({type:C,jobId:r},e))},e=>{c.has(r)&&(c.delete(r),Object(o.b)(e)||this._post({type:C,jobId:r,error:Object(a.e)(e||{message:"Error encountered at method "+t})}))})):this._post({type:C,jobId:r},u)}_onOpenPortMessage(e){new N(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,r=this._client.on(e.eventType,e=>{t.postMessage(e)}),n=Object(i.c)(e.port,"message",e=>{Object(a.d)(e).type===a.a.CLOSE&&(n.remove(),r.remove(),t.close())})}_onResponseMessage(e){this._frameTask?this._responseQueue.push(e):this._handleResponse(e)}_update(e){for(;!e.done&&this._responseQueue.length>0;)this._handleResponse(this._responseQueue.shift()),e.madeProgress()}_handleResponse(e){var t;const{jobId:r,error:o,data:i}=e,s=this._outJobs;if(!s.has(r))return;const a=s.get(r);s.delete(r),null==(t=a.abortHandle)||t.remove(),o?a.reject(n.a.fromJSON(JSON.parse(o))):a.resolve(i)}_post(e,t,r){return Object(a.c)(this._port,e,t,r)}}N.clients=new Map;t.default=N},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(61),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(32))},function(e,t,r){r(60),e.exports=r(57)},function(e,t,r){r.p=self.esriConfig.baseUrl+self.esriConfig.assetsPath+"/esri/core/workers/"},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,s,a,c=1,u={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return u[c]=o,n(c),c++},d.clearImmediate=h}function h(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(32),r(52))}]);